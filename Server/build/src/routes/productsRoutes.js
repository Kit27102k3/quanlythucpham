"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;
var _express = _interopRequireDefault(require("express"));
var _productsController = require("../Controller/productsController.js");












var _productController = require("../../controllers/productController.js");
var _authMiddleware = require("../Middleware/authMiddleware.js"); // server/routes/productsRoutes.js

const router = _express.default.Router();

// Public routes
router.get("/products", _productsController.getAllProducts);
router.get("/products/search", _productsController.searchProducts);
router.get("/products/best-selling", _productsController.getBestSellingProducts);
router.get("/products/best-sellers", _productsController.getBestSellingProducts);
router.get("/products/top-rated", _productsController.getTopRatedProducts);
router.get("/products/category/:category", _productsController.getProductByCategory);
router.get("/products/slug/:slug", _productsController.getProductBySlug);
router.get("/products/:id", _productsController.getProductById);

// Protected routes (require authentication)
router.post("/products", _authMiddleware.verifyToken, _authMiddleware.isAdmin, _productsController.createProduct);
router.put("/products/:id", _authMiddleware.verifyToken, _authMiddleware.isAdmin, _productsController.updateProduct);
router.delete("/products/:id", _authMiddleware.verifyToken, _authMiddleware.isAdmin, _productsController.deleteProduct);
router.get('/inventory', _productController.getInventory);

// Thêm route kiểm tra và cập nhật hạn sử dụng và giảm giá
router.get("/check-expirations", _authMiddleware.verifyToken, _authMiddleware.isAdmin, _productsController.checkAndUpdateExpirations);var _default = exports.default =

router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb2R1Y3RzQ29udHJvbGxlciIsIl9wcm9kdWN0Q29udHJvbGxlciIsIl9hdXRoTWlkZGxld2FyZSIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJnZXRBbGxQcm9kdWN0cyIsInNlYXJjaFByb2R1Y3RzIiwiZ2V0QmVzdFNlbGxpbmdQcm9kdWN0cyIsImdldFRvcFJhdGVkUHJvZHVjdHMiLCJnZXRQcm9kdWN0QnlDYXRlZ29yeSIsImdldFByb2R1Y3RCeVNsdWciLCJnZXRQcm9kdWN0QnlJZCIsInBvc3QiLCJ2ZXJpZnlUb2tlbiIsImlzQWRtaW4iLCJjcmVhdGVQcm9kdWN0IiwicHV0IiwidXBkYXRlUHJvZHVjdCIsImRlbGV0ZSIsImRlbGV0ZVByb2R1Y3QiLCJnZXRJbnZlbnRvcnkiLCJjaGVja0FuZFVwZGF0ZUV4cGlyYXRpb25zIiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9yb3V0ZXMvcHJvZHVjdHNSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc2VydmVyL3JvdXRlcy9wcm9kdWN0c1JvdXRlcy5qc1xyXG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZVByb2R1Y3QsXHJcbiAgZ2V0QWxsUHJvZHVjdHMsXHJcbiAgdXBkYXRlUHJvZHVjdCxcclxuICBnZXRQcm9kdWN0QnlJZCxcclxuICBkZWxldGVQcm9kdWN0LFxyXG4gIHNlYXJjaFByb2R1Y3RzLFxyXG4gIGdldFByb2R1Y3RCeUNhdGVnb3J5LFxyXG4gIGdldFByb2R1Y3RCeVNsdWcsXHJcbiAgZ2V0QmVzdFNlbGxpbmdQcm9kdWN0cyxcclxuICBnZXRUb3BSYXRlZFByb2R1Y3RzLFxyXG4gIGNoZWNrQW5kVXBkYXRlRXhwaXJhdGlvbnMsXHJcbn0gZnJvbSBcIi4uL0NvbnRyb2xsZXIvcHJvZHVjdHNDb250cm9sbGVyLmpzXCI7XHJcbmltcG9ydCB7IGdldEludmVudG9yeSB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXJzL3Byb2R1Y3RDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHsgdmVyaWZ5VG9rZW4sIGlzQWRtaW4gfSBmcm9tIFwiLi4vTWlkZGxld2FyZS9hdXRoTWlkZGxld2FyZS5qc1wiO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbi8vIFB1YmxpYyByb3V0ZXNcclxucm91dGVyLmdldChcIi9wcm9kdWN0c1wiLCBnZXRBbGxQcm9kdWN0cyk7XHJcbnJvdXRlci5nZXQoXCIvcHJvZHVjdHMvc2VhcmNoXCIsIHNlYXJjaFByb2R1Y3RzKTtcclxucm91dGVyLmdldChcIi9wcm9kdWN0cy9iZXN0LXNlbGxpbmdcIiwgZ2V0QmVzdFNlbGxpbmdQcm9kdWN0cyk7XHJcbnJvdXRlci5nZXQoXCIvcHJvZHVjdHMvYmVzdC1zZWxsZXJzXCIsIGdldEJlc3RTZWxsaW5nUHJvZHVjdHMpO1xyXG5yb3V0ZXIuZ2V0KFwiL3Byb2R1Y3RzL3RvcC1yYXRlZFwiLCBnZXRUb3BSYXRlZFByb2R1Y3RzKTtcclxucm91dGVyLmdldChcIi9wcm9kdWN0cy9jYXRlZ29yeS86Y2F0ZWdvcnlcIiwgZ2V0UHJvZHVjdEJ5Q2F0ZWdvcnkpO1xyXG5yb3V0ZXIuZ2V0KFwiL3Byb2R1Y3RzL3NsdWcvOnNsdWdcIiwgZ2V0UHJvZHVjdEJ5U2x1Zyk7XHJcbnJvdXRlci5nZXQoXCIvcHJvZHVjdHMvOmlkXCIsIGdldFByb2R1Y3RCeUlkKTtcclxuXHJcbi8vIFByb3RlY3RlZCByb3V0ZXMgKHJlcXVpcmUgYXV0aGVudGljYXRpb24pXHJcbnJvdXRlci5wb3N0KFwiL3Byb2R1Y3RzXCIsIHZlcmlmeVRva2VuLCBpc0FkbWluLCBjcmVhdGVQcm9kdWN0KTtcclxucm91dGVyLnB1dChcIi9wcm9kdWN0cy86aWRcIiwgdmVyaWZ5VG9rZW4sIGlzQWRtaW4sIHVwZGF0ZVByb2R1Y3QpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL3Byb2R1Y3RzLzppZFwiLCB2ZXJpZnlUb2tlbiwgaXNBZG1pbiwgZGVsZXRlUHJvZHVjdCk7XHJcbnJvdXRlci5nZXQoJy9pbnZlbnRvcnknLCBnZXRJbnZlbnRvcnkpO1xyXG5cclxuLy8gVGjDqm0gcm91dGUga2nhu4NtIHRyYSB2w6AgY+G6rXAgbmjhuq10IGjhuqFuIHPhu60gZOG7pW5nIHbDoCBnaeG6o20gZ2nDoVxyXG5yb3V0ZXIuZ2V0KFwiL2NoZWNrLWV4cGlyYXRpb25zXCIsIHZlcmlmeVRva2VuLCBpc0FkbWluLCBjaGVja0FuZFVwZGF0ZUV4cGlyYXRpb25zKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiO0FBQ0EsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsbUJBQUEsR0FBQUQsT0FBQTs7Ozs7Ozs7Ozs7OztBQWFBLElBQUFFLGtCQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxlQUFBLEdBQUFILE9BQUEsb0NBQXVFLENBaEJ2RTs7QUFrQkEsTUFBTUksTUFBTSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLENBQUMsQ0FBQzs7QUFFL0I7QUFDQUYsTUFBTSxDQUFDRyxHQUFHLENBQUMsV0FBVyxFQUFFQyxrQ0FBYyxDQUFDO0FBQ3ZDSixNQUFNLENBQUNHLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRUUsa0NBQWMsQ0FBQztBQUM5Q0wsTUFBTSxDQUFDRyxHQUFHLENBQUMsd0JBQXdCLEVBQUVHLDBDQUFzQixDQUFDO0FBQzVETixNQUFNLENBQUNHLEdBQUcsQ0FBQyx3QkFBd0IsRUFBRUcsMENBQXNCLENBQUM7QUFDNUROLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLHFCQUFxQixFQUFFSSx1Q0FBbUIsQ0FBQztBQUN0RFAsTUFBTSxDQUFDRyxHQUFHLENBQUMsOEJBQThCLEVBQUVLLHdDQUFvQixDQUFDO0FBQ2hFUixNQUFNLENBQUNHLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRU0sb0NBQWdCLENBQUM7QUFDcERULE1BQU0sQ0FBQ0csR0FBRyxDQUFDLGVBQWUsRUFBRU8sa0NBQWMsQ0FBQzs7QUFFM0M7QUFDQVYsTUFBTSxDQUFDVyxJQUFJLENBQUMsV0FBVyxFQUFFQywyQkFBVyxFQUFFQyx1QkFBTyxFQUFFQyxpQ0FBYSxDQUFDO0FBQzdEZCxNQUFNLENBQUNlLEdBQUcsQ0FBQyxlQUFlLEVBQUVILDJCQUFXLEVBQUVDLHVCQUFPLEVBQUVHLGlDQUFhLENBQUM7QUFDaEVoQixNQUFNLENBQUNpQixNQUFNLENBQUMsZUFBZSxFQUFFTCwyQkFBVyxFQUFFQyx1QkFBTyxFQUFFSyxpQ0FBYSxDQUFDO0FBQ25FbEIsTUFBTSxDQUFDRyxHQUFHLENBQUMsWUFBWSxFQUFFZ0IsK0JBQVksQ0FBQzs7QUFFdEM7QUFDQW5CLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLG9CQUFvQixFQUFFUywyQkFBVyxFQUFFQyx1QkFBTyxFQUFFTyw2Q0FBeUIsQ0FBQyxDQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBQyxPQUFBOztBQUVuRXZCLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=