"use strict";Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;
var _express = _interopRequireDefault(require("express"));
var _productsController = require("../Controller/productsController.js");











var _authMiddleware = require("../Middleware/authMiddleware.js");function _interopRequireDefault(e) {return e && e.__esModule ? e : { default: e };} // server/routes/productsRoutes.js

const router = _express.default.Router();

// Public routes
router.get("/products", _productsController.getAllProducts);
router.get("/products/search", _productsController.searchProducts);
router.get("/products/best-selling", _productsController.getBestSellingProducts);
router.get("/products/best-sellers", _productsController.getBestSellingProducts);
router.get("/products/category/:category", _productsController.getProductByCategory);
router.get("/products/slug/:slug", _productsController.getProductBySlug);
router.get("/products/:id", _productsController.getProductById);

// Protected routes (require authentication)
router.post("/products", _authMiddleware.verifyToken, _authMiddleware.isAdmin, _productsController.createProduct);
router.put("/products/:id", _authMiddleware.verifyToken, _authMiddleware.isAdmin, _productsController.updateProduct);
router.delete("/products/:id", _authMiddleware.verifyToken, _authMiddleware.isAdmin, _productsController.deleteProduct);

// Thêm route kiểm tra và cập nhật hạn sử dụng và giảm giá
router.get("/check-expirations", _authMiddleware.verifyToken, _authMiddleware.isAdmin, _productsController.checkAndUpdateExpirations);var _default = exports.default =

router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb2R1Y3RzQ29udHJvbGxlciIsIl9hdXRoTWlkZGxld2FyZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJnZXRBbGxQcm9kdWN0cyIsInNlYXJjaFByb2R1Y3RzIiwiZ2V0QmVzdFNlbGxpbmdQcm9kdWN0cyIsImdldFByb2R1Y3RCeUNhdGVnb3J5IiwiZ2V0UHJvZHVjdEJ5U2x1ZyIsImdldFByb2R1Y3RCeUlkIiwicG9zdCIsInZlcmlmeVRva2VuIiwiaXNBZG1pbiIsImNyZWF0ZVByb2R1Y3QiLCJwdXQiLCJ1cGRhdGVQcm9kdWN0IiwiZGVsZXRlIiwiZGVsZXRlUHJvZHVjdCIsImNoZWNrQW5kVXBkYXRlRXhwaXJhdGlvbnMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcm91dGVzL3Byb2R1Y3RzUm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNlcnZlci9yb3V0ZXMvcHJvZHVjdHNSb3V0ZXMuanNcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHtcclxuICBjcmVhdGVQcm9kdWN0LFxyXG4gIGdldEFsbFByb2R1Y3RzLFxyXG4gIHVwZGF0ZVByb2R1Y3QsXHJcbiAgZ2V0UHJvZHVjdEJ5SWQsXHJcbiAgZGVsZXRlUHJvZHVjdCxcclxuICBzZWFyY2hQcm9kdWN0cyxcclxuICBnZXRQcm9kdWN0QnlDYXRlZ29yeSxcclxuICBnZXRQcm9kdWN0QnlTbHVnLFxyXG4gIGdldEJlc3RTZWxsaW5nUHJvZHVjdHMsXHJcbiAgY2hlY2tBbmRVcGRhdGVFeHBpcmF0aW9uc1xyXG59IGZyb20gXCIuLi9Db250cm9sbGVyL3Byb2R1Y3RzQ29udHJvbGxlci5qc1wiO1xyXG5pbXBvcnQgeyB2ZXJpZnlUb2tlbiwgaXNBZG1pbiB9IGZyb20gXCIuLi9NaWRkbGV3YXJlL2F1dGhNaWRkbGV3YXJlLmpzXCI7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxuLy8gUHVibGljIHJvdXRlc1xyXG5yb3V0ZXIuZ2V0KFwiL3Byb2R1Y3RzXCIsIGdldEFsbFByb2R1Y3RzKTtcclxucm91dGVyLmdldChcIi9wcm9kdWN0cy9zZWFyY2hcIiwgc2VhcmNoUHJvZHVjdHMpO1xyXG5yb3V0ZXIuZ2V0KFwiL3Byb2R1Y3RzL2Jlc3Qtc2VsbGluZ1wiLCBnZXRCZXN0U2VsbGluZ1Byb2R1Y3RzKTtcclxucm91dGVyLmdldChcIi9wcm9kdWN0cy9iZXN0LXNlbGxlcnNcIiwgZ2V0QmVzdFNlbGxpbmdQcm9kdWN0cyk7XHJcbnJvdXRlci5nZXQoXCIvcHJvZHVjdHMvY2F0ZWdvcnkvOmNhdGVnb3J5XCIsIGdldFByb2R1Y3RCeUNhdGVnb3J5KTtcclxucm91dGVyLmdldChcIi9wcm9kdWN0cy9zbHVnLzpzbHVnXCIsIGdldFByb2R1Y3RCeVNsdWcpO1xyXG5yb3V0ZXIuZ2V0KFwiL3Byb2R1Y3RzLzppZFwiLCBnZXRQcm9kdWN0QnlJZCk7XHJcblxyXG4vLyBQcm90ZWN0ZWQgcm91dGVzIChyZXF1aXJlIGF1dGhlbnRpY2F0aW9uKVxyXG5yb3V0ZXIucG9zdChcIi9wcm9kdWN0c1wiLCB2ZXJpZnlUb2tlbiwgaXNBZG1pbiwgY3JlYXRlUHJvZHVjdCk7XHJcbnJvdXRlci5wdXQoXCIvcHJvZHVjdHMvOmlkXCIsIHZlcmlmeVRva2VuLCBpc0FkbWluLCB1cGRhdGVQcm9kdWN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9wcm9kdWN0cy86aWRcIiwgdmVyaWZ5VG9rZW4sIGlzQWRtaW4sIGRlbGV0ZVByb2R1Y3QpO1xyXG5cclxuLy8gVGjDqm0gcm91dGUga2nhu4NtIHRyYSB2w6AgY+G6rXAgbmjhuq10IGjhuqFuIHPhu60gZOG7pW5nIHbDoCBnaeG6o20gZ2nDoVxyXG5yb3V0ZXIuZ2V0KFwiL2NoZWNrLWV4cGlyYXRpb25zXCIsIHZlcmlmeVRva2VuLCBpc0FkbWluLCBjaGVja0FuZFVwZGF0ZUV4cGlyYXRpb25zKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiO0FBQ0EsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsbUJBQUEsR0FBQUQsT0FBQTs7Ozs7Ozs7Ozs7O0FBWUEsSUFBQUUsZUFBQSxHQUFBRixPQUFBLG9DQUF1RSxTQUFBRCx1QkFBQUksQ0FBQSxVQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQSxLQWR2RTs7QUFnQkEsTUFBTUcsTUFBTSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLENBQUMsQ0FBQzs7QUFFL0I7QUFDQUYsTUFBTSxDQUFDRyxHQUFHLENBQUMsV0FBVyxFQUFFQyxrQ0FBYyxDQUFDO0FBQ3ZDSixNQUFNLENBQUNHLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRUUsa0NBQWMsQ0FBQztBQUM5Q0wsTUFBTSxDQUFDRyxHQUFHLENBQUMsd0JBQXdCLEVBQUVHLDBDQUFzQixDQUFDO0FBQzVETixNQUFNLENBQUNHLEdBQUcsQ0FBQyx3QkFBd0IsRUFBRUcsMENBQXNCLENBQUM7QUFDNUROLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLDhCQUE4QixFQUFFSSx3Q0FBb0IsQ0FBQztBQUNoRVAsTUFBTSxDQUFDRyxHQUFHLENBQUMsc0JBQXNCLEVBQUVLLG9DQUFnQixDQUFDO0FBQ3BEUixNQUFNLENBQUNHLEdBQUcsQ0FBQyxlQUFlLEVBQUVNLGtDQUFjLENBQUM7O0FBRTNDO0FBQ0FULE1BQU0sQ0FBQ1UsSUFBSSxDQUFDLFdBQVcsRUFBRUMsMkJBQVcsRUFBRUMsdUJBQU8sRUFBRUMsaUNBQWEsQ0FBQztBQUM3RGIsTUFBTSxDQUFDYyxHQUFHLENBQUMsZUFBZSxFQUFFSCwyQkFBVyxFQUFFQyx1QkFBTyxFQUFFRyxpQ0FBYSxDQUFDO0FBQ2hFZixNQUFNLENBQUNnQixNQUFNLENBQUMsZUFBZSxFQUFFTCwyQkFBVyxFQUFFQyx1QkFBTyxFQUFFSyxpQ0FBYSxDQUFDOztBQUVuRTtBQUNBakIsTUFBTSxDQUFDRyxHQUFHLENBQUMsb0JBQW9CLEVBQUVRLDJCQUFXLEVBQUVDLHVCQUFPLEVBQUVNLDZDQUF5QixDQUFDLENBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFyQixPQUFBOztBQUVuRUMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==