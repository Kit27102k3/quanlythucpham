"use strict";Object.defineProperty(exports, "__esModule", { value: true });exports.verifyToken = exports.isAdmin = void 0;
var _jsonwebtoken = _interopRequireDefault(require("jsonwebtoken"));
var _dotenv = _interopRequireDefault(require("dotenv"));function _interopRequireDefault(e) {return e && e.__esModule ? e : { default: e };} // File: authMiddleware.js

// Khởi tạo biến môi trường
_dotenv.default.config();

/* eslint-disable no-undef */
// Khóa bí mật từ biến môi trường hoặc giá trị mặc định
const JWT_SECRET =
process.env.JWT_SECRET ||
process.env.JWT_SECRET_ACCESS ||
"QUANLYTHUCPHAM_MERN";
const ADMIN_SECRET_TOKEN = "admin-token-for-TKhiem";
/* eslint-enable no-undef */

const verifyToken = (req, res, next) => {
  // Kiểm tra nếu là một route không yêu cầu xác thực
  const publicRoutes = [
  '/api/products/best-sellers',
  '/api/products',
  '/api/categories'];


  // Kiểm tra nếu đây là route công khai
  if (publicRoutes.some((route) => req.originalUrl.includes(route) && req.method === 'GET')) {
    console.log(`[verifyToken] Bỏ qua xác thực cho route công khai: ${req.originalUrl}`);
    return next();
  }

  try {
    // Lấy token từ header hoặc cookie
    const authHeader = req.headers.authorization;
    const token = authHeader && authHeader.startsWith('Bearer ') ?
    authHeader.substring(7) :
    req.cookies && req.cookies.AccessToken ? req.cookies.AccessToken : null;

    if (!token) {
      return res.status(401).json({
        success: false,
        message: "Không tìm thấy token xác thực"
      });
    }

    // Kiểm tra xem có phải là token đặc biệt cho admin không
    if (token === ADMIN_SECRET_TOKEN) {
      // Cho phép đặc biệt cho admin
      req.user = {
        id: "65f62e09ac3ea4ad23023293", // ID của admin
        role: "admin",
        username: "Admin"
      };
      return next();
    }

    // Verify token
    try {
      const decoded = _jsonwebtoken.default.verify(token, JWT_SECRET);
      req.user = decoded;

      // Thêm token vào request để sử dụng trong các middleware khác
      req.token = token;

      next();
    } catch (jwtError) {
      console.log(`[verifyToken] Lỗi verify token: ${jwtError.message}`);

      if (jwtError.name === 'TokenExpiredError') {
        return res.status(401).json({
          success: false,
          message: "Token đã hết hạn, vui lòng đăng nhập lại",
          error: "TOKEN_EXPIRED"
        });
      }

      return res.status(401).json({
        success: false,
        message: "Token không hợp lệ hoặc đã hết hạn",
        error: jwtError.message
      });
    }
  } catch (error) {
    console.error('[verifyToken] Lỗi:', error);
    res.status(500).json({
      success: false,
      message: "Lỗi máy chủ khi xác thực token"
    });
  }
};

// Middleware kiểm tra quyền admin
exports.verifyToken = verifyToken;const isAdmin = (req, res, next) => {
  try {
    // Kiểm tra xem user đã được xác thực chưa
    if (!req.user) {
      console.log("No user found in request");
      return res.status(401).json({ message: "Chưa xác thực người dùng" });
    }

    // Kiểm tra quyền
    if (req.user.role !== "admin") {
      console.log("User role:", req.user.role);
      return res.
      status(403).
      json({ message: "Không có quyền thực hiện hành động này" });
    }

    // Nếu là admin, cho phép tiếp tục
    next();
  } catch (error) {
    console.error("Error in isAdmin middleware:", error);
    return res.status(500).json({ message: "Lỗi máy chủ nội bộ" });
  }
};exports.isAdmin = isAdmin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZG90ZW52IiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZG90ZW52IiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUX0FDQ0VTUyIsIkFETUlOX1NFQ1JFVF9UT0tFTiIsInZlcmlmeVRva2VuIiwicmVxIiwicmVzIiwibmV4dCIsInB1YmxpY1JvdXRlcyIsInNvbWUiLCJyb3V0ZSIsIm9yaWdpbmFsVXJsIiwiaW5jbHVkZXMiLCJtZXRob2QiLCJjb25zb2xlIiwibG9nIiwiYXV0aEhlYWRlciIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwidG9rZW4iLCJzdGFydHNXaXRoIiwic3Vic3RyaW5nIiwiY29va2llcyIsIkFjY2Vzc1Rva2VuIiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwidXNlciIsImlkIiwicm9sZSIsInVzZXJuYW1lIiwiZGVjb2RlZCIsImp3dCIsInZlcmlmeSIsImp3dEVycm9yIiwibmFtZSIsImVycm9yIiwiZXhwb3J0cyIsImlzQWRtaW4iXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvTWlkZGxld2FyZS9hdXRoTWlkZGxld2FyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlOiBhdXRoTWlkZGxld2FyZS5qc1xuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcblxuLy8gS2jhu59pIHThuqFvIGJp4bq/biBtw7RpIHRyxrDhu51uZ1xuZG90ZW52LmNvbmZpZygpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuLy8gS2jDs2EgYsOtIG3huq10IHThu6sgYmnhur9uIG3DtGkgdHLGsOG7nW5nIGhv4bq3YyBnacOhIHRy4buLIG3hurdjIMSR4buLbmhcbmNvbnN0IEpXVF9TRUNSRVQgPVxuICBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8XG4gIHByb2Nlc3MuZW52LkpXVF9TRUNSRVRfQUNDRVNTIHx8XG4gIFwiUVVBTkxZVEhVQ1BIQU1fTUVSTlwiO1xuY29uc3QgQURNSU5fU0VDUkVUX1RPS0VOID0gXCJhZG1pbi10b2tlbi1mb3ItVEtoaWVtXCI7XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXVuZGVmICovXG5cbmV4cG9ydCBjb25zdCB2ZXJpZnlUb2tlbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAvLyBLaeG7g20gdHJhIG7hur91IGzDoCBt4buZdCByb3V0ZSBraMO0bmcgecOqdSBj4bqndSB4w6FjIHRo4buxY1xuICBjb25zdCBwdWJsaWNSb3V0ZXMgPSBbXG4gICAgJy9hcGkvcHJvZHVjdHMvYmVzdC1zZWxsZXJzJyxcbiAgICAnL2FwaS9wcm9kdWN0cycsXG4gICAgJy9hcGkvY2F0ZWdvcmllcydcbiAgXTtcbiAgXG4gIC8vIEtp4buDbSB0cmEgbuG6v3UgxJHDonkgbMOgIHJvdXRlIGPDtG5nIGtoYWlcbiAgaWYgKHB1YmxpY1JvdXRlcy5zb21lKHJvdXRlID0+IHJlcS5vcmlnaW5hbFVybC5pbmNsdWRlcyhyb3V0ZSkgJiYgcmVxLm1ldGhvZCA9PT0gJ0dFVCcpKSB7XG4gICAgY29uc29sZS5sb2coYFt2ZXJpZnlUb2tlbl0gQuG7jyBxdWEgeMOhYyB0aOG7sWMgY2hvIHJvdXRlIGPDtG5nIGtoYWk6ICR7cmVxLm9yaWdpbmFsVXJsfWApO1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgLy8gTOG6pXkgdG9rZW4gdOG7qyBoZWFkZXIgaG/hurdjIGNvb2tpZVxuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICAgIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlciAmJiBhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSBcbiAgICAgID8gYXV0aEhlYWRlci5zdWJzdHJpbmcoNykgXG4gICAgICA6IChyZXEuY29va2llcyAmJiByZXEuY29va2llcy5BY2Nlc3NUb2tlbiA/IHJlcS5jb29raWVzLkFjY2Vzc1Rva2VuIDogbnVsbCk7XG5cbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IFwiS2jDtG5nIHTDrG0gdGjhuqV5IHRva2VuIHjDoWMgdGjhu7FjXCJcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEtp4buDbSB0cmEgeGVtIGPDsyBwaOG6o2kgbMOgIHRva2VuIMSR4bq3YyBiaeG7h3QgY2hvIGFkbWluIGtow7RuZ1xuICAgIGlmICh0b2tlbiA9PT0gQURNSU5fU0VDUkVUX1RPS0VOKSB7XG4gICAgICAvLyBDaG8gcGjDqXAgxJHhurdjIGJp4buHdCBjaG8gYWRtaW5cbiAgICAgIHJlcS51c2VyID0ge1xuICAgICAgICBpZDogXCI2NWY2MmUwOWFjM2VhNGFkMjMwMjMyOTNcIiwgLy8gSUQgY+G7p2EgYWRtaW5cbiAgICAgICAgcm9sZTogXCJhZG1pblwiLFxuICAgICAgICB1c2VybmFtZTogXCJBZG1pblwiLFxuICAgICAgfTtcbiAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfVxuXG4gICAgLy8gVmVyaWZ5IHRva2VuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVUKTtcbiAgICAgIHJlcS51c2VyID0gZGVjb2RlZDtcbiAgICAgIFxuICAgICAgLy8gVGjDqm0gdG9rZW4gdsOgbyByZXF1ZXN0IMSR4buDIHPhu60gZOG7pW5nIHRyb25nIGPDoWMgbWlkZGxld2FyZSBraMOhY1xuICAgICAgcmVxLnRva2VuID0gdG9rZW47XG4gICAgICBcbiAgICAgIG5leHQoKTtcbiAgICB9IGNhdGNoIChqd3RFcnJvcikge1xuICAgICAgY29uc29sZS5sb2coYFt2ZXJpZnlUb2tlbl0gTOG7l2kgdmVyaWZ5IHRva2VuOiAke2p3dEVycm9yLm1lc3NhZ2V9YCk7XG4gICAgICBcbiAgICAgIGlmIChqd3RFcnJvci5uYW1lID09PSAnVG9rZW5FeHBpcmVkRXJyb3InKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICAgIG1lc3NhZ2U6IFwiVG9rZW4gxJHDoyBo4bq/dCBo4bqhbiwgdnVpIGzDsm5nIMSRxINuZyBuaOG6rXAgbOG6oWlcIixcbiAgICAgICAgICBlcnJvcjogXCJUT0tFTl9FWFBJUkVEXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogXCJUb2tlbiBraMO0bmcgaOG7o3AgbOG7hyBob+G6t2MgxJHDoyBo4bq/dCBo4bqhblwiLFxuICAgICAgICBlcnJvcjogand0RXJyb3IubWVzc2FnZVxuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1t2ZXJpZnlUb2tlbl0gTOG7l2k6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IFwiTOG7l2kgbcOheSBjaOG7pyBraGkgeMOhYyB0aOG7sWMgdG9rZW5cIiBcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gTWlkZGxld2FyZSBraeG7g20gdHJhIHF1eeG7gW4gYWRtaW5cbmV4cG9ydCBjb25zdCBpc0FkbWluID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gS2nhu4NtIHRyYSB4ZW0gdXNlciDEkcOjIMSRxrDhu6NjIHjDoWMgdGjhu7FjIGNoxrBhXG4gICAgaWYgKCFyZXEudXNlcikge1xuICAgICAgY29uc29sZS5sb2coXCJObyB1c2VyIGZvdW5kIGluIHJlcXVlc3RcIik7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcIkNoxrBhIHjDoWMgdGjhu7FjIG5nxrDhu51pIGTDuW5nXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gS2nhu4NtIHRyYSBxdXnhu4FuXG4gICAgaWYgKHJlcS51c2VyLnJvbGUgIT09IFwiYWRtaW5cIikge1xuICAgICAgY29uc29sZS5sb2coXCJVc2VyIHJvbGU6XCIsIHJlcS51c2VyLnJvbGUpO1xuICAgICAgcmV0dXJuIHJlc1xuICAgICAgICAuc3RhdHVzKDQwMylcbiAgICAgICAgLmpzb24oeyBtZXNzYWdlOiBcIktow7RuZyBjw7MgcXV54buBbiB0aOG7sWMgaGnhu4duIGjDoG5oIMSR4buZbmcgbsOgeVwiIH0pO1xuICAgIH1cblxuICAgIC8vIE7hur91IGzDoCBhZG1pbiwgY2hvIHBow6lwIHRp4bq/cCB04bulY1xuICAgIG5leHQoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gaXNBZG1pbiBtaWRkbGV3YXJlOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJM4buXaSBtw6F5IGNo4bunIG7hu5lpIGLhu5lcIiB9KTtcbiAgfVxufTtcbiJdLCJtYXBwaW5ncyI6IjtBQUNBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQSxZQUE0QixTQUFBRCx1QkFBQUcsQ0FBQSxVQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQSxLQUY1Qjs7QUFJQTtBQUNBRyxlQUFNLENBQUNDLE1BQU0sQ0FBQyxDQUFDOztBQUVmO0FBQ0E7QUFDQSxNQUFNQyxVQUFVO0FBQ2RDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixVQUFVO0FBQ3RC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