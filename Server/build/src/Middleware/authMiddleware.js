"use strict";Object.defineProperty(exports, "__esModule", { value: true });exports.verifyToken = exports.isAdmin = void 0;
var _jsonwebtoken = _interopRequireDefault(require("jsonwebtoken"));
var _dotenv = _interopRequireDefault(require("dotenv"));function _interopRequireDefault(e) {return e && e.__esModule ? e : { default: e };} // File: authMiddleware.js

// Khởi tạo biến môi trường
_dotenv.default.config();

/* eslint-disable no-undef */
// Khóa bí mật từ biến môi trường hoặc giá trị mặc định
const JWT_SECRET =
process.env.JWT_SECRET ||
process.env.JWT_SECRET_ACCESS ||
"QUANLYTHUCPHAM_MERN";
const ADMIN_SECRET_TOKEN = "admin-token-for-TKhiem";
/* eslint-enable no-undef */

const verifyToken = (req, res, next) => {
  // Kiểm tra nếu là một route không yêu cầu xác thực
  const publicRoutes = [
  '/api/products/best-sellers',
  '/api/products',
  '/api/categories'];


  // Kiểm tra nếu đây là route công khai
  if (publicRoutes.some((route) => req.originalUrl.includes(route) && req.method === 'GET')) {
    console.log(`[verifyToken] Bỏ qua xác thực cho route công khai: ${req.originalUrl}`);
    return next();
  }

  try {var _req$cookies;
    // Lấy token từ header hoặc cookie
    const authHeader = req.headers.authorization;
    const token = authHeader && authHeader.startsWith('Bearer ') ?
    authHeader.substring(7) : (_req$cookies =
    req.cookies) === null || _req$cookies === void 0 ? void 0 : _req$cookies.AccessToken;

    if (!token) {
      return res.status(401).json({
        success: false,
        message: "Không tìm thấy token xác thực"
      });
    }

    // Kiểm tra xem có phải là token đặc biệt cho admin không
    if (token === ADMIN_SECRET_TOKEN) {
      // Cho phép đặc biệt cho admin
      req.user = {
        id: "65f62e09ac3ea4ad23023293", // ID của admin
        role: "admin",
        username: "Admin"
      };
      return next();
    }

    // Verify token
    try {
      const decoded = _jsonwebtoken.default.verify(token, JWT_SECRET);
      req.user = decoded;

      // Thêm token vào request để sử dụng trong các middleware khác
      req.token = token;

      next();
    } catch (jwtError) {
      console.log(`[verifyToken] Lỗi verify token: ${jwtError.message}`);

      if (jwtError.name === 'TokenExpiredError') {
        return res.status(401).json({
          success: false,
          message: "Token đã hết hạn, vui lòng đăng nhập lại",
          error: "TOKEN_EXPIRED"
        });
      }

      return res.status(401).json({
        success: false,
        message: "Token không hợp lệ hoặc đã hết hạn",
        error: jwtError.message
      });
    }
  } catch (error) {
    console.error('[verifyToken] Lỗi:', error);
    res.status(500).json({
      success: false,
      message: "Lỗi máy chủ khi xác thực token"
    });
  }
};

// Middleware kiểm tra quyền admin
exports.verifyToken = verifyToken;const isAdmin = (req, res, next) => {
  try {
    // Kiểm tra xem user đã được xác thực chưa
    if (!req.user) {
      console.log("No user found in request");
      return res.status(401).json({ message: "Chưa xác thực người dùng" });
    }

    // Kiểm tra quyền
    if (req.user.role !== "admin") {
      console.log("User role:", req.user.role);
      return res.
      status(403).
      json({ message: "Không có quyền thực hiện hành động này" });
    }

    // Nếu là admin, cho phép tiếp tục
    next();
  } catch (error) {
    console.error("Error in isAdmin middleware:", error);
    return res.status(500).json({ message: "Lỗi máy chủ nội bộ" });
  }
};exports.isAdmin = isAdmin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZG90ZW52IiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZG90ZW52IiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUX0FDQ0VTUyIsIkFETUlOX1NFQ1JFVF9UT0tFTiIsInZlcmlmeVRva2VuIiwicmVxIiwicmVzIiwibmV4dCIsInB1YmxpY1JvdXRlcyIsInNvbWUiLCJyb3V0ZSIsIm9yaWdpbmFsVXJsIiwiaW5jbHVkZXMiLCJtZXRob2QiLCJjb25zb2xlIiwibG9nIiwiX3JlcSRjb29raWVzIiwiYXV0aEhlYWRlciIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwidG9rZW4iLCJzdGFydHNXaXRoIiwic3Vic3RyaW5nIiwiY29va2llcyIsIkFjY2Vzc1Rva2VuIiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwidXNlciIsImlkIiwicm9sZSIsInVzZXJuYW1lIiwiZGVjb2RlZCIsImp3dCIsInZlcmlmeSIsImp3dEVycm9yIiwibmFtZSIsImVycm9yIiwiZXhwb3J0cyIsImlzQWRtaW4iXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvTWlkZGxld2FyZS9hdXRoTWlkZGxld2FyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlOiBhdXRoTWlkZGxld2FyZS5qc1xuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcblxuLy8gS2jhu59pIHThuqFvIGJp4bq/biBtw7RpIHRyxrDhu51uZ1xuZG90ZW52LmNvbmZpZygpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuLy8gS2jDs2EgYsOtIG3huq10IHThu6sgYmnhur9uIG3DtGkgdHLGsOG7nW5nIGhv4bq3YyBnacOhIHRy4buLIG3hurdjIMSR4buLbmhcbmNvbnN0IEpXVF9TRUNSRVQgPVxuICBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8XG4gIHByb2Nlc3MuZW52LkpXVF9TRUNSRVRfQUNDRVNTIHx8XG4gIFwiUVVBTkxZVEhVQ1BIQU1fTUVSTlwiO1xuY29uc3QgQURNSU5fU0VDUkVUX1RPS0VOID0gXCJhZG1pbi10b2tlbi1mb3ItVEtoaWVtXCI7XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXVuZGVmICovXG5cbmV4cG9ydCBjb25zdCB2ZXJpZnlUb2tlbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAvLyBLaeG7g20gdHJhIG7hur91IGzDoCBt4buZdCByb3V0ZSBraMO0bmcgecOqdSBj4bqndSB4w6FjIHRo4buxY1xuICBjb25zdCBwdWJsaWNSb3V0ZXMgPSBbXG4gICAgJy9hcGkvcHJvZHVjdHMvYmVzdC1zZWxsZXJzJyxcbiAgICAnL2FwaS9wcm9kdWN0cycsXG4gICAgJy9hcGkvY2F0ZWdvcmllcydcbiAgXTtcbiAgXG4gIC8vIEtp4buDbSB0cmEgbuG6v3UgxJHDonkgbMOgIHJvdXRlIGPDtG5nIGtoYWlcbiAgaWYgKHB1YmxpY1JvdXRlcy5zb21lKHJvdXRlID0+IHJlcS5vcmlnaW5hbFVybC5pbmNsdWRlcyhyb3V0ZSkgJiYgcmVxLm1ldGhvZCA9PT0gJ0dFVCcpKSB7XG4gICAgY29uc29sZS5sb2coYFt2ZXJpZnlUb2tlbl0gQuG7jyBxdWEgeMOhYyB0aOG7sWMgY2hvIHJvdXRlIGPDtG5nIGtoYWk6ICR7cmVxLm9yaWdpbmFsVXJsfWApO1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgLy8gTOG6pXkgdG9rZW4gdOG7qyBoZWFkZXIgaG/hurdjIGNvb2tpZVxuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICAgIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlciAmJiBhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSBcbiAgICAgID8gYXV0aEhlYWRlci5zdWJzdHJpbmcoNykgXG4gICAgICA6IHJlcS5jb29raWVzPy5BY2Nlc3NUb2tlbjtcblxuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogXCJLaMO0bmcgdMOsbSB0aOG6pXkgdG9rZW4geMOhYyB0aOG7sWNcIlxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gS2nhu4NtIHRyYSB4ZW0gY8OzIHBo4bqjaSBsw6AgdG9rZW4gxJHhurdjIGJp4buHdCBjaG8gYWRtaW4ga2jDtG5nXG4gICAgaWYgKHRva2VuID09PSBBRE1JTl9TRUNSRVRfVE9LRU4pIHtcbiAgICAgIC8vIENobyBwaMOpcCDEkeG6t2MgYmnhu4d0IGNobyBhZG1pblxuICAgICAgcmVxLnVzZXIgPSB7XG4gICAgICAgIGlkOiBcIjY1ZjYyZTA5YWMzZWE0YWQyMzAyMzI5M1wiLCAvLyBJRCBj4bunYSBhZG1pblxuICAgICAgICByb2xlOiBcImFkbWluXCIsXG4gICAgICAgIHVzZXJuYW1lOiBcIkFkbWluXCIsXG4gICAgICB9O1xuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9XG5cbiAgICAvLyBWZXJpZnkgdG9rZW5cbiAgICB0cnkge1xuICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIEpXVF9TRUNSRVQpO1xuICAgICAgcmVxLnVzZXIgPSBkZWNvZGVkO1xuICAgICAgXG4gICAgICAvLyBUaMOqbSB0b2tlbiB2w6BvIHJlcXVlc3QgxJHhu4Mgc+G7rSBk4bulbmcgdHJvbmcgY8OhYyBtaWRkbGV3YXJlIGtow6FjXG4gICAgICByZXEudG9rZW4gPSB0b2tlbjtcbiAgICAgIFxuICAgICAgbmV4dCgpO1xuICAgIH0gY2F0Y2ggKGp3dEVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhgW3ZlcmlmeVRva2VuXSBM4buXaSB2ZXJpZnkgdG9rZW46ICR7and0RXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIFxuICAgICAgaWYgKGp3dEVycm9yLm5hbWUgPT09ICdUb2tlbkV4cGlyZWRFcnJvcicpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICAgICAgbWVzc2FnZTogXCJUb2tlbiDEkcOjIGjhur90IGjhuqFuLCB2dWkgbMOybmcgxJHEg25nIG5o4bqtcCBs4bqhaVwiLFxuICAgICAgICAgIGVycm9yOiBcIlRPS0VOX0VYUElSRURcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiBcIlRva2VuIGtow7RuZyBo4bujcCBs4buHIGhv4bq3YyDEkcOjIGjhur90IGjhuqFuXCIsXG4gICAgICAgIGVycm9yOiBqd3RFcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW3ZlcmlmeVRva2VuXSBM4buXaTonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogXCJM4buXaSBtw6F5IGNo4bunIGtoaSB4w6FjIHRo4buxYyB0b2tlblwiIFxuICAgIH0pO1xuICB9XG59O1xuXG4vLyBNaWRkbGV3YXJlIGtp4buDbSB0cmEgcXV54buBbiBhZG1pblxuZXhwb3J0IGNvbnN0IGlzQWRtaW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBLaeG7g20gdHJhIHhlbSB1c2VyIMSRw6MgxJHGsOG7o2MgeMOhYyB0aOG7sWMgY2jGsGFcbiAgICBpZiAoIXJlcS51c2VyKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIk5vIHVzZXIgZm91bmQgaW4gcmVxdWVzdFwiKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiQ2jGsGEgeMOhYyB0aOG7sWMgbmfGsOG7nWkgZMO5bmdcIiB9KTtcbiAgICB9XG5cbiAgICAvLyBLaeG7g20gdHJhIHF1eeG7gW5cbiAgICBpZiAocmVxLnVzZXIucm9sZSAhPT0gXCJhZG1pblwiKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlVzZXIgcm9sZTpcIiwgcmVxLnVzZXIucm9sZSk7XG4gICAgICByZXR1cm4gcmVzXG4gICAgICAgIC5zdGF0dXMoNDAzKVxuICAgICAgICAuanNvbih7IG1lc3NhZ2U6IFwiS2jDtG5nIGPDsyBxdXnhu4FuIHRo4buxYyBoaeG7h24gaMOgbmggxJHhu5luZyBuw6B5XCIgfSk7XG4gICAgfVxuXG4gICAgLy8gTuG6v3UgbMOgIGFkbWluLCBjaG8gcGjDqXAgdGnhur9wIHThu6VjXG4gICAgbmV4dCgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBpc0FkbWluIG1pZGRsZXdhcmU6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkzhu5dpIG3DoXkgY2jhu6cgbuG7mWkgYuG7mVwiIH0pO1xuICB9XG59O1xuIl0sIm1hcHBpbmdzIjoiO0FBQ0EsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBLFlBQTRCLFNBQUFELHVCQUFBRyxDQUFBLFVBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBLEtBRjVCOztBQUlBO0FBQ0FHLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7O0FBRWY7QUFDQTtBQUNBLE1BQU1DLFVBQVU7QUFDZEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLFVBQVU7QUFDdEJDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxpQkFBaUI7QUFDN0IscUJBQXFCO0FBQ3ZCLE1BQU1DLGtCQUFrQixHQUFHLHdCQUF3QjtBQUNuRDs7QUFFTyxNQUFNQyxXQUFXLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDN0M7RUFDQSxNQUFNQyxZQUFZLEdBQUc7RUFDbkIsNEJBQTRCO0VBQzVCLGVBQWU7RUFDZixpQkFBaUIsQ0FDbEI7OztFQUVEO0VBQ0EsSUFBSUEsWUFBWSxDQUFDQyxJQUFJLENBQUMsQ0FBQUMsS0FBSyxLQUFJTCxHQUFHLENBQUNNLFdBQVcsQ0FBQ0MsUUFBUSxDQUFDRixLQUFLLENBQUMsSUFBSUwsR0FBRyxDQUFDUSxNQUFNLEtBQUssS0FBSyxDQUFDLEVBQUU7SUFDdkZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNEQUFzRFYsR0FBRyxDQUFDTSxXQUFXLEVBQUUsQ0FBQztJQUNwRixPQUFPSixJQUFJLENBQUMsQ0FBQztFQUNmOztFQUVBLElBQUksS0FBQVMsWUFBQTtJQUNGO0lBQ0EsTUFBTUMsVUFBVSxHQUFHWixHQUFHLENBQUNhLE9BQU8sQ0FBQ0MsYUFBYTtJQUM1QyxNQUFNQyxLQUFLLEdBQUdILFVBQVUsSUFBSUEsVUFBVSxDQUFDSSxVQUFVLENBQUMsU0FBUyxDQUFDO0lBQ3hESixVQUFVLENBQUNLLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBQU4sWUFBQTtJQUN2QlgsR0FBRyxDQUFDa0IsT0FBTyxjQUFBUCxZQUFBLHVCQUFYQSxZQUFBLENBQWFRLFdBQVc7O0lBRTVCLElBQUksQ0FBQ0osS0FBSyxFQUFFO01BQ1YsT0FBT2QsR0FBRyxDQUFDbUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDMUJDLE9BQU8sRUFBRSxLQUFLO1FBQ2RDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKOztJQUVBO0lBQ0EsSUFBSVIsS0FBSyxLQUFLakIsa0JBQWtCLEVBQUU7TUFDaEM7TUFDQUUsR0FBRyxDQUFDd0IsSUFBSSxHQUFHO1FBQ1RDLEVBQUUsRUFBRSwwQkFBMEIsRUFBRTtRQUNoQ0MsSUFBSSxFQUFFLE9BQU87UUFDYkMsUUFBUSxFQUFFO01BQ1osQ0FBQztNQUNELE9BQU96QixJQUFJLENBQUMsQ0FBQztJQUNmOztJQUVBO0lBQ0EsSUFBSTtNQUNGLE1BQU0wQixPQUFPLEdBQUdDLHFCQUFHLENBQUNDLE1BQU0sQ0FBQ2YsS0FBSyxFQUFFckIsVUFBVSxDQUFDO01BQzdDTSxHQUFHLENBQUN3QixJQUFJLEdBQUdJLE9BQU87O01BRWxCO01BQ0E1QixHQUFHLENBQUNlLEtBQUssR0FBR0EsS0FBSzs7TUFFakJiLElBQUksQ0FBQyxDQUFDO0lBQ1IsQ0FBQyxDQUFDLE9BQU82QixRQUFRLEVBQUU7TUFDakJ0QixPQUFPLENBQUNDLEdBQUcsQ0FBQyxtQ0FBbUNxQixRQUFRLENBQUNSLE9BQU8sRUFBRSxDQUFDOztNQUVsRSxJQUFJUSxRQUFRLENBQUNDLElBQUksS0FBSyxtQkFBbUIsRUFBRTtRQUN6QyxPQUFPL0IsR0FBRyxDQUFDbUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDMUJDLE9BQU8sRUFBRSxLQUFLO1VBQ2RDLE9BQU8sRUFBRSwwQ0FBMEM7VUFDbkRVLEtBQUssRUFBRTtRQUNULENBQUMsQ0FBQztNQUNKOztNQUVBLE9BQU9oQyxHQUFHLENBQUNtQixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUMxQkMsT0FBTyxFQUFFLEtBQUs7UUFDZEMsT0FBTyxFQUFFLG9DQUFvQztRQUM3Q1UsS0FBSyxFQUFFRixRQUFRLENBQUNSO01BQ2xCLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQyxDQUFDLE9BQU9VLEtBQUssRUFBRTtJQUNkeEIsT0FBTyxDQUFDd0IsS0FBSyxDQUFDLG9CQUFvQixFQUFFQSxLQUFLLENBQUM7SUFDMUNoQyxHQUFHLENBQUNtQixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUNuQkMsT0FBTyxFQUFFLEtBQUs7TUFDZEMsT0FBTyxFQUFFO0lBQ1gsQ0FBQyxDQUFDO0VBQ0o7QUFDRixDQUFDOztBQUVEO0FBQUFXLE9BQUEsQ0FBQW5DLFdBQUEsR0FBQUEsV0FBQSxDQUNPLE1BQU1vQyxPQUFPLEdBQUdBLENBQUNuQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQ3pDLElBQUk7SUFDRjtJQUNBLElBQUksQ0FBQ0YsR0FBRyxDQUFDd0IsSUFBSSxFQUFFO01BQ2JmLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDBCQUEwQixDQUFDO01BQ3ZDLE9BQU9ULEdBQUcsQ0FBQ21CLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEVBQUVFLE9BQU8sRUFBRSwwQkFBMEIsQ0FBQyxDQUFDLENBQUM7SUFDdEU7O0lBRUE7SUFDQSxJQUFJdkIsR0FBRyxDQUFDd0IsSUFBSSxDQUFDRSxJQUFJLEtBQUssT0FBTyxFQUFFO01BQzdCakIsT0FBTyxDQUFDQyxHQUFHLENBQUMsWUFBWSxFQUFFVixHQUFHLENBQUN3QixJQUFJLENBQUNFLElBQUksQ0FBQztNQUN4QyxPQUFPekIsR0FBRztNQUNQbUIsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUNYQyxJQUFJLENBQUMsRUFBRUUsT0FBTyxFQUFFLHdDQUF3QyxDQUFDLENBQUMsQ0FBQztJQUNoRTs7SUFFQTtJQUNBckIsSUFBSSxDQUFDLENBQUM7RUFDUixDQUFDLENBQUMsT0FBTytCLEtBQUssRUFBRTtJQUNkeEIsT0FBTyxDQUFDd0IsS0FBSyxDQUFDLDhCQUE4QixFQUFFQSxLQUFLLENBQUM7SUFDcEQsT0FBT2hDLEdBQUcsQ0FBQ21CLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEVBQUVFLE9BQU8sRUFBRSxvQkFBb0IsQ0FBQyxDQUFDLENBQUM7RUFDaEU7QUFDRixDQUFDLENBQUNXLE9BQUEsQ0FBQUMsT0FBQSxHQUFBQSxPQUFBIiwiaWdub3JlTGlzdCI6W119