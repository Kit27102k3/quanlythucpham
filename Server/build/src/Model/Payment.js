"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _mongoose = _interopRequireDefault(require("mongoose"));

const paymentSchema = new _mongoose.default.Schema(
  {
    userId: {
      type: _mongoose.default.Schema.Types.ObjectId,
      ref: "User",
      required: true
    },
    orderId: {
      type: _mongoose.default.Schema.Types.ObjectId,
      ref: "Order"
    },
    amount: {
      type: Number,
      required: true
    },
    totalAmount: {
      type: Number
    },
    products: [
    {
      productId: {
        type: _mongoose.default.Schema.Types.ObjectId,
        ref: "Product",
        required: true
      },
      quantity: {
        type: Number,
        required: true
      },
      price: {
        type: Number,
        required: true
      }
    }],

    paymentMethod: {
      type: String,
      required: true
    },
    status: {
      type: String,
      enum: ["pending", "processing", "completed", "failed", "refunded"],
      default: "pending"
    },
    paidAt: {
      type: Date
    },
    transactionId: {
      type: String
    },
    responseCode: {
      type: String
    },
    responseMessage: {
      type: String
    },
    savedVoucherId: {
      type: _mongoose.default.Schema.Types.ObjectId,
      ref: "SavedVoucher"
    }
  },
  {
    timestamps: true
  }
);

const Payment = _mongoose.default.model("Payment", paymentSchema);var _default = exports.default =

Payment;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsInBheW1lbnRTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsInVzZXJJZCIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJvcmRlcklkIiwiYW1vdW50IiwiTnVtYmVyIiwidG90YWxBbW91bnQiLCJwcm9kdWN0cyIsInByb2R1Y3RJZCIsInF1YW50aXR5IiwicHJpY2UiLCJwYXltZW50TWV0aG9kIiwiU3RyaW5nIiwic3RhdHVzIiwiZW51bSIsImRlZmF1bHQiLCJwYWlkQXQiLCJEYXRlIiwidHJhbnNhY3Rpb25JZCIsInJlc3BvbnNlQ29kZSIsInJlc3BvbnNlTWVzc2FnZSIsInNhdmVkVm91Y2hlcklkIiwidGltZXN0YW1wcyIsIlBheW1lbnQiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9Nb2RlbC9QYXltZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IHBheW1lbnRTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxyXG4gIHtcclxuICAgIHVzZXJJZDoge1xyXG4gICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgIHJlZjogXCJVc2VyXCIsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIG9yZGVySWQ6IHtcclxuICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICByZWY6IFwiT3JkZXJcIixcclxuICAgIH0sXHJcbiAgICBhbW91bnQ6IHtcclxuICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICB0b3RhbEFtb3VudDoge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICB9LFxyXG4gICAgcHJvZHVjdHM6IFtcclxuICAgICAge1xyXG4gICAgICAgIHByb2R1Y3RJZDoge1xyXG4gICAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgICAgcmVmOiBcIlByb2R1Y3RcIixcclxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcXVhbnRpdHk6IHtcclxuICAgICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJpY2U6IHtcclxuICAgICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgcGF5bWVudE1ldGhvZDoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIHN0YXR1czoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIGVudW06IFtcInBlbmRpbmdcIiwgXCJwcm9jZXNzaW5nXCIsIFwiY29tcGxldGVkXCIsIFwiZmFpbGVkXCIsIFwicmVmdW5kZWRcIl0sXHJcbiAgICAgIGRlZmF1bHQ6IFwicGVuZGluZ1wiLFxyXG4gICAgfSxcclxuICAgIHBhaWRBdDoge1xyXG4gICAgICB0eXBlOiBEYXRlLFxyXG4gICAgfSxcclxuICAgIHRyYW5zYWN0aW9uSWQ6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgfSxcclxuICAgIHJlc3BvbnNlQ29kZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB9LFxyXG4gICAgcmVzcG9uc2VNZXNzYWdlOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgIH0sXHJcbiAgICBzYXZlZFZvdWNoZXJJZDoge1xyXG4gICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgIHJlZjogXCJTYXZlZFZvdWNoZXJcIixcclxuICAgIH0sXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG4gIH1cclxuKTtcclxuXHJcbmNvbnN0IFBheW1lbnQgPSBtb25nb29zZS5tb2RlbChcIlBheW1lbnRcIiwgcGF5bWVudFNjaGVtYSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQYXltZW50O1xyXG4iXSwibWFwcGluZ3MiOiJ5TEFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7O0FBRUEsTUFBTUMsYUFBYSxHQUFHLElBQUlDLGlCQUFRLENBQUNDLE1BQU07RUFDdkM7SUFDRUMsTUFBTSxFQUFFO01BQ05DLElBQUksRUFBRUgsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDRyxLQUFLLENBQUNDLFFBQVE7TUFDcENDLEdBQUcsRUFBRSxNQUFNO01BQ1hDLFFBQVEsRUFBRTtJQUNaLENBQUM7SUFDREMsT0FBTyxFQUFFO01BQ1BMLElBQUksRUFBRUgsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDRyxLQUFLLENBQUNDLFFBQVE7TUFDcENDLEdBQUcsRUFBRTtJQUNQLENBQUM7SUFDREcsTUFBTSxFQUFFO01BQ05OLElBQUksRUFBRU8sTUFBTTtNQUNaSCxRQUFRLEVBQUU7SUFDWixDQUFDO0lBQ0RJLFdBQVcsRUFBRTtNQUNYUixJQUFJLEVBQUVPO0lBQ1IsQ0FBQztJQUNERSxRQUFRLEVBQUU7SUFDUjtNQUNFQyxTQUFTLEVBQUU7UUFDVFYsSUFBSSxFQUFFSCxpQkFBUSxDQUFDQyxNQUFNLENBQUNHLEtBQUssQ0FBQ0MsUUFBUTtRQUNwQ0MsR0FBRyxFQUFFLFNBQVM7UUFDZEMsUUFBUSxFQUFFO01BQ1osQ0FBQztNQUNETyxRQUFRLEVBQUU7UUFDUlgsSUFBSSxFQUFFTyxNQUFNO1FBQ1pILFFBQVEsRUFBRTtNQUNaLENBQUM7TUFDRFEsS0FBSyxFQUFFO1FBQ0xaLElBQUksRUFBRU8sTUFBTTtRQUNaSCxRQUFRLEVBQUU7TUFDWjtJQUNGLENBQUMsQ0FDRjs7SUFDRFMsYUFBYSxFQUFFO01BQ2JiLElBQUksRUFBRWMsTUFBTTtNQUNaVixRQUFRLEVBQUU7SUFDWixDQUFDO0lBQ0RXLE1BQU0sRUFBRTtNQUNOZixJQUFJLEVBQUVjLE1BQU07TUFDWkUsSUFBSSxFQUFFLENBQUMsU0FBUyxFQUFFLFlBQVksRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLFVBQVUsQ0FBQztNQUNsRUMsT0FBTyxFQUFFO0lBQ1gsQ0FBQztJQUNEQyxNQUFNLEVBQUU7TUFDTmxCLElBQUksRUFBRW1CO0lBQ1IsQ0FBQztJQUNEQyxhQUFhLEVBQUU7TUFDYnBCLElBQUksRUFBRWM7SUFDUixDQUFDO0lBQ0RPLFlBQVksRUFBRTtNQUNackIsSUFBSSxFQUFFYztJQUNSLENBQUM7SUFDRFEsZUFBZSxFQUFFO01BQ2Z0QixJQUFJLEVBQUVjO0lBQ1IsQ0FBQztJQUNEUyxjQUFjLEVBQUU7TUFDZHZCLElBQUksRUFBRUgsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDRyxLQUFLLENBQUNDLFFBQVE7TUFDcENDLEdBQUcsRUFBRTtJQUNQO0VBQ0YsQ0FBQztFQUNEO0lBQ0VxQixVQUFVLEVBQUU7RUFDZDtBQUNGLENBQUM7O0FBRUQsTUFBTUMsT0FBTyxHQUFHNUIsaUJBQVEsQ0FBQzZCLEtBQUssQ0FBQyxTQUFTLEVBQUU5QixhQUFhLENBQUMsQ0FBQyxJQUFBK0IsUUFBQSxHQUFBQyxPQUFBLENBQUFYLE9BQUE7O0FBRTFDUSxPQUFPIiwiaWdub3JlTGlzdCI6W119