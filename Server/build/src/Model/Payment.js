"use strict";Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _mongoose = _interopRequireDefault(require("mongoose"));function _interopRequireDefault(e) {return e && e.__esModule ? e : { default: e };}

const paymentSchema = new _mongoose.default.Schema(
  {
    userId: {
      type: _mongoose.default.Schema.Types.ObjectId,
      ref: "User",
      required: true
    },
    orderId: {
      type: _mongoose.default.Schema.Types.ObjectId,
      ref: "Order"
    },
    amount: {
      type: Number,
      required: true
    },
    totalAmount: {
      type: Number
    },
    products: [
    {
      productId: {
        type: _mongoose.default.Schema.Types.ObjectId,
        ref: "Product",
        required: true
      },
      quantity: {
        type: Number,
        required: true
      },
      price: {
        type: Number,
        required: true
      }
    }],

    paymentMethod: {
      type: String,
      required: true
    },
    status: {
      type: String,
      enum: ["pending", "processing", "completed", "failed", "refunded"],
      default: "pending"
    },
    paidAt: {
      type: Date
    },
    transactionId: {
      type: String
    },
    responseCode: {
      type: String
    },
    responseMessage: {
      type: String
    },
    savedVoucherId: {
      type: _mongoose.default.Schema.Types.ObjectId,
      ref: "SavedVoucher"
    }
  },
  {
    timestamps: true
  }
);

const Payment = _mongoose.default.model("Payment", paymentSchema);var _default = exports.default =

Payment;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBheW1lbnRTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsInVzZXJJZCIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJvcmRlcklkIiwiYW1vdW50IiwiTnVtYmVyIiwidG90YWxBbW91bnQiLCJwcm9kdWN0cyIsInByb2R1Y3RJZCIsInF1YW50aXR5IiwicHJpY2UiLCJwYXltZW50TWV0aG9kIiwiU3RyaW5nIiwic3RhdHVzIiwiZW51bSIsInBhaWRBdCIsIkRhdGUiLCJ0cmFuc2FjdGlvbklkIiwicmVzcG9uc2VDb2RlIiwicmVzcG9uc2VNZXNzYWdlIiwic2F2ZWRWb3VjaGVySWQiLCJ0aW1lc3RhbXBzIiwiUGF5bWVudCIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL01vZGVsL1BheW1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgcGF5bWVudFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgdXNlcklkOiB7XHJcbiAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgcmVmOiBcIlVzZXJcIixcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgb3JkZXJJZDoge1xyXG4gICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgIHJlZjogXCJPcmRlclwiLFxyXG4gICAgfSxcclxuICAgIGFtb3VudDoge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIHRvdGFsQW1vdW50OiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgIH0sXHJcbiAgICBwcm9kdWN0czogW1xyXG4gICAgICB7XHJcbiAgICAgICAgcHJvZHVjdElkOiB7XHJcbiAgICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgICAgICByZWY6IFwiUHJvZHVjdFwiLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBxdWFudGl0eToge1xyXG4gICAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwcmljZToge1xyXG4gICAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIF0sXHJcbiAgICBwYXltZW50TWV0aG9kOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgc3RhdHVzOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgZW51bTogW1wicGVuZGluZ1wiLCBcInByb2Nlc3NpbmdcIiwgXCJjb21wbGV0ZWRcIiwgXCJmYWlsZWRcIiwgXCJyZWZ1bmRlZFwiXSxcclxuICAgICAgZGVmYXVsdDogXCJwZW5kaW5nXCIsXHJcbiAgICB9LFxyXG4gICAgcGFpZEF0OiB7XHJcbiAgICAgIHR5cGU6IERhdGUsXHJcbiAgICB9LFxyXG4gICAgdHJhbnNhY3Rpb25JZDoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB9LFxyXG4gICAgcmVzcG9uc2VDb2RlOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgIH0sXHJcbiAgICByZXNwb25zZU1lc3NhZ2U6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgfSxcclxuICAgIHNhdmVkVm91Y2hlcklkOiB7XHJcbiAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgcmVmOiBcIlNhdmVkVm91Y2hlclwiLFxyXG4gICAgfSxcclxuICB9LFxyXG4gIHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbiAgfVxyXG4pO1xyXG5cclxuY29uc3QgUGF5bWVudCA9IG1vbmdvb3NlLm1vZGVsKFwiUGF5bWVudFwiLCBwYXltZW50U2NoZW1hKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBheW1lbnQ7XHJcbiJdLCJtYXBwaW5ncyI6Im9HQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQSxjQUFnQyxTQUFBRCx1QkFBQUUsQ0FBQSxVQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTs7QUFFaEMsTUFBTUcsYUFBYSxHQUFHLElBQUlDLGlCQUFRLENBQUNDLE1BQU07RUFDdkM7SUFDRUMsTUFBTSxFQUFFO01BQ05DLElBQUksRUFBRUgsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDRyxLQUFLLENBQUNDLFFBQVE7TUFDcENDLEdBQUcsRUFBRSxNQUFNO01BQ1hDLFFBQVEsRUFBRTtJQUNaLENBQUM7SUFDREMsT0FBTyxFQUFFO01BQ1BMLElBQUksRUFBRUgsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDRyxLQUFLLENBQUNDLFFBQVE7TUFDcENDLEdBQUcsRUFBRTtJQUNQLENBQUM7SUFDREcsTUFBTSxFQUFFO01BQ05OLElBQUksRUFBRU8sTUFBTTtNQUNaSCxRQUFRLEVBQUU7SUFDWixDQUFDO0lBQ0RJLFdBQVcsRUFBRTtNQUNYUixJQUFJLEVBQUVPO0lBQ1IsQ0FBQztJQUNERSxRQUFRLEVBQUU7SUFDUjtNQUNFQyxTQUFTLEVBQUU7UUFDVFYsSUFBSSxFQUFFSCxpQkFBUSxDQUFDQyxNQUFNLENBQUNHLEtBQUssQ0FBQ0MsUUFBUTtRQUNwQ0MsR0FBRyxFQUFFLFNBQVM7UUFDZEMsUUFBUSxFQUFFO01BQ1osQ0FBQztNQUNETyxRQUFRLEVBQUU7UUFDUlgsSUFBSSxFQUFFTyxNQUFNO1FBQ1pILFFBQVEsRUFBRTtNQUNaLENBQUM7TUFDRFEsS0FBSyxFQUFFO1FBQ0xaLElBQUksRUFBRU8sTUFBTTtRQUNaSCxRQUFRLEVBQUU7TUFDWjtJQUNGLENBQUMsQ0FDRjs7SUFDRFMsYUFBYSxFQUFFO01BQ2JiLElBQUksRUFBRWMsTUFBTTtNQUNaVixRQUFRLEVBQUU7SUFDWixDQUFDO0lBQ0RXLE1BQU0sRUFBRTtNQUNOZixJQUFJLEVBQUVjLE1BQU07TUFDWkUsSUFBSSxFQUFFLENBQUMsU0FBUyxFQUFFLFlBQVksRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLFVBQVUsQ0FBQztNQUNsRXJCLE9BQU8sRUFBRTtJQUNYLENBQUM7SUFDRHNCLE1BQU0sRUFBRTtNQUNOakIsSUFBSSxFQUFFa0I7SUFDUixDQUFDO0lBQ0RDLGFBQWEsRUFBRTtNQUNibkIsSUFBSSxFQUFFYztJQUNSLENBQUM7SUFDRE0sWUFBWSxFQUFFO01BQ1pwQixJQUFJLEVBQUVjO0lBQ1IsQ0FBQztJQUNETyxlQUFlLEVBQUU7TUFDZnJCLElBQUksRUFBRWM7SUFDUixDQUFDO0lBQ0RRLGNBQWMsRUFBRTtNQUNkdEIsSUFBSSxFQUFFSCxpQkFBUSxDQUFDQyxNQUFNLENBQUNHLEtBQUssQ0FBQ0MsUUFBUTtNQUNwQ0MsR0FBRyxFQUFFO0lBQ1A7RUFDRixDQUFDO0VBQ0Q7SUFDRW9CLFVBQVUsRUFBRTtFQUNkO0FBQ0YsQ0FBQzs7QUFFRCxNQUFNQyxPQUFPLEdBQUczQixpQkFBUSxDQUFDNEIsS0FBSyxDQUFDLFNBQVMsRUFBRTdCLGFBQWEsQ0FBQyxDQUFDLElBQUE4QixRQUFBLEdBQUFDLE9BQUEsQ0FBQWhDLE9BQUE7O0FBRTFDNkIsT0FBTyIsImlnbm9yZUxpc3QiOltdfQ==