"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _mongoose = _interopRequireDefault(require("mongoose"));

const UserSchema = new _mongoose.default.Schema(
  {
    email: { type: String, required: true },
    phone: { type: String, required: true },
    firstName: { type: String, required: true },
    lastName: { type: String, required: true },
    userName: { type: String, required: true, unique: true },
    password: { type: String, required: true },
    userImage: { type: String, required: false, default: "" },
    isBlocked: { type: Boolean, default: false },
    resetPasswordToken: { type: String, default: null },
    resetPasswordExpires: { type: Date, default: null },
    lastLogin: { type: Date, default: null },
    facebookId: { type: String, default: null },
    googleId: { type: String, default: null },
    authProvider: {
      type: String,
      enum: ["local", "facebook", "google"],
      default: "local"
    },
    addresses: [
    {
      fullAddress: { type: String, required: true },
      houseNumber: { type: String, required: false },
      ward: { type: String, required: false },
      district: { type: String, required: false },
      province: { type: String, required: false },
      coordinates: {
        lat: { type: Number, required: false },
        lng: { type: Number, required: false }
      },
      isDefault: { type: Boolean, default: false },
      label: { type: String, required: false, default: "Nh√†" },
      receiverName: { type: String, required: false },
      receiverPhone: { type: String, required: false }
    }],

    pushSubscriptions: [
    {
      endpoint: { type: String, required: true },
      expirationTime: { type: Date, default: null },
      keys: {
        p256dh: { type: String, required: true },
        auth: { type: String, required: true }
      }
    }]

  },
  { timestamps: true }
);var _default = exports.default =

_mongoose.default.model("User", UserSchema);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIlVzZXJTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsImVtYWlsIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwicGhvbmUiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInVzZXJOYW1lIiwidW5pcXVlIiwicGFzc3dvcmQiLCJ1c2VySW1hZ2UiLCJkZWZhdWx0IiwiaXNCbG9ja2VkIiwiQm9vbGVhbiIsInJlc2V0UGFzc3dvcmRUb2tlbiIsInJlc2V0UGFzc3dvcmRFeHBpcmVzIiwiRGF0ZSIsImxhc3RMb2dpbiIsImZhY2Vib29rSWQiLCJnb29nbGVJZCIsImF1dGhQcm92aWRlciIsImVudW0iLCJhZGRyZXNzZXMiLCJmdWxsQWRkcmVzcyIsImhvdXNlTnVtYmVyIiwid2FyZCIsImRpc3RyaWN0IiwicHJvdmluY2UiLCJjb29yZGluYXRlcyIsImxhdCIsIk51bWJlciIsImxuZyIsImlzRGVmYXVsdCIsImxhYmVsIiwicmVjZWl2ZXJOYW1lIiwicmVjZWl2ZXJQaG9uZSIsInB1c2hTdWJzY3JpcHRpb25zIiwiZW5kcG9pbnQiLCJleHBpcmF0aW9uVGltZSIsImtleXMiLCJwMjU2ZGgiLCJhdXRoIiwidGltZXN0YW1wcyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL01vZGVsL1JlZ2lzdGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXG4gIHtcbiAgICBlbWFpbDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcGhvbmU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGZpcnN0TmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgbGFzdE5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHVzZXJOYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB1c2VySW1hZ2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UsIGRlZmF1bHQ6IFwiXCIgfSxcbiAgICBpc0Jsb2NrZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICByZXNldFBhc3N3b3JkVG9rZW46IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBudWxsIH0sXG4gICAgcmVzZXRQYXNzd29yZEV4cGlyZXM6IHsgdHlwZTogRGF0ZSwgZGVmYXVsdDogbnVsbCB9LFxuICAgIGxhc3RMb2dpbjogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBudWxsIH0sXG4gICAgZmFjZWJvb2tJZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IG51bGwgfSxcbiAgICBnb29nbGVJZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IG51bGwgfSxcbiAgICBhdXRoUHJvdmlkZXI6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGVudW06IFtcImxvY2FsXCIsIFwiZmFjZWJvb2tcIiwgXCJnb29nbGVcIl0sXG4gICAgICBkZWZhdWx0OiBcImxvY2FsXCIsXG4gICAgfSxcbiAgICBhZGRyZXNzZXM6IFtcbiAgICAgIHtcbiAgICAgICAgZnVsbEFkZHJlc3M6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICBob3VzZU51bWJlcjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9LFxuICAgICAgICB3YXJkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0sXG4gICAgICAgIGRpc3RyaWN0OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0sXG4gICAgICAgIHByb3ZpbmNlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0sXG4gICAgICAgIGNvb3JkaW5hdGVzOiB7XG4gICAgICAgICAgbGF0OiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IGZhbHNlIH0sXG4gICAgICAgICAgbG5nOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IGZhbHNlIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGlzRGVmYXVsdDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICAgICAgICBsYWJlbDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSwgZGVmYXVsdDogXCJOaMOgXCIgfSxcbiAgICAgICAgcmVjZWl2ZXJOYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0sXG4gICAgICAgIHJlY2VpdmVyUGhvbmU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UgfSxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBwdXNoU3Vic2NyaXB0aW9uczogW1xuICAgICAge1xuICAgICAgICBlbmRwb2ludDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgIGV4cGlyYXRpb25UaW1lOiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IG51bGwgfSxcbiAgICAgICAga2V5czoge1xuICAgICAgICAgIHAyNTZkaDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgYXV0aDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gIHsgdGltZXN0YW1wczogdHJ1ZSB9XG4pO1xuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbChcIlVzZXJcIiwgVXNlclNjaGVtYSk7XG4iXSwibWFwcGluZ3MiOiJ5TEFBQSxJQUFBQSxTQUFBLEdBQUFDLHNC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