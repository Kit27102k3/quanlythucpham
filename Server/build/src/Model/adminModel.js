"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;
var _mongoose = _interopRequireDefault(require("mongoose"));
var _bcryptjs = require("bcryptjs"); /* eslint-disable no-useless-escape */

// Kiểm tra nếu model đã tồn tại
const Admin = _mongoose.default.models.Admin || (() => {
  const AdminSchema = new _mongoose.default.Schema(
    {
      // Hỗ trợ cả hai trường userName và username
      userName: {
        type: String,
        required: [true, "Tên đăng nhập là bắt buộc"],
        unique: true,
        trim: true,
        minlength: [4, "Tên đăng nhập phải có ít nhất 4 ký tự"],
        maxlength: [20, "Tên đăng nhập không quá 20 ký tự"]
      },
      // username sẽ được đặt bằng giá trị của userName
      username: {
        type: String,
        trim: true
      },
      password: {
        type: String,
        required: [function () {
          // Chỉ yêu cầu mật khẩu khi tạo mới document
          return this.isNew;
        }, "Mật khẩu là bắt buộc"],
        minlength: [6, "Mật khẩu phải có ít nhất 6 ký tự"]
      },
      fullName: {
        type: String,
        required: [true, "Họ tên là bắt buộc"],
        trim: true
      },
      phone: {
        type: String,
        required: [true, "Số điện thoại là bắt buộc"],
        match: [/^[0-9]{10,11}$/, "Số điện thoại không hợp lệ"]
      },
      email: {
        type: String,
        required: [true, "Email là bắt buộc"],
        unique: true,
        lowercase: true,
        match: [
        /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,
        "Email không hợp lệ"]

      },
      birthday: {
        type: Date,
        validate: {
          validator: function (value) {
            return !value || value < new Date();
          },
          message: "Ngày sinh không hợp lệ"
        }
      },
      role: {
        type: String,
        enum: ["superadmin", "manager", "admin", "user", "employee", "shipper", "staff"],
        required: true
      },
      // Hỗ trợ thêm trường position cho tương thích
      position: {
        type: String,
        enum: ["admin", "manager", "employee", "staff", "shipper"],
        default: function () {
          // Lấy giá trị từ role nếu phù hợp
          return ["admin", "manager", "employee", "staff", "shipper"].includes(this.role) ?
          this.role :
          "staff";
        }
      },
      branchId: {
        type: _mongoose.default.Schema.Types.ObjectId,
        ref: "Branch"
      },
      permissions: {
        type: [String],
        enum: [
        "Thêm",
        "Xem",
        "Sửa",
        "Xóa",
        "Quản lý người dùng",
        "Quản lý sản phẩm",
        "Quản lý đơn hàng",
        "Quản lý danh mục",
        "Quản lý cài đặt",
        "reviews",
        "contacts",
        "messages",
        "orders",
        "employees",
        "customers",
        "dashboard",
        "products",
        "categories",
        "coupons",
        "tips",
        "reports",
        "settings",
        "delivery",
        "branches"],

        default: ["Xem"]
      },
      isActive: {
        type: Boolean,
        default: true
      },
      lastLogin: Date,
      createdAt: {
        type: Date,
        default: Date.now
      }
    },
    {
      timestamps: true
    }
  );

  // Đảm bảo username luôn được đồng bộ với userName
  AdminSchema.pre("validate", function (next) {
    if (this.userName && !this.username) {
      this.username = this.userName;
    }
    if (this.username && !this.userName) {
      this.userName = this.username;
    }
    next();
  });

  AdminSchema.pre("save", async function (next) {
    // Đảm bảo username và userName luôn đồng bộ
    if (this.userName) {
      this.username = this.userName;
    } else if (this.username) {
      this.userName = this.username;
    }

    // Chỉ hash mật khẩu khi mật khẩu thay đổi
    if (!this.isModified("password")) return next();

    try {
      const salt = await (0, _bcryptjs.genSalt)(10);
      this.password = await (0, _bcryptjs.hash)(this.password, salt);
      next();
    } catch (err) {
      next(err);
    }
  });

  AdminSchema.methods.comparePassword = async function (candidatePassword) {
    return await (0, _bcryptjs.compare)(candidatePassword, this.password);
  };

  AdminSchema.methods.toJSON = function () {
    const admin = this.toObject();
    delete admin.password;
    delete admin.__v;
    return admin;
  };

  return _mongoose.default.model("Admin", AdminSchema);
})();var _default = exports.default =

Admin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9iY3J5cHRqcyIsIkFkbWluIiwibW9uZ29vc2UiLCJtb2RlbHMiLCJBZG1pblNjaGVtYSIsIlNjaGVtYSIsInVzZXJOYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwidHJpbSIsIm1pbmxlbmd0aCIsIm1heGxlbmd0aCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJpc05ldyIsImZ1bGxOYW1lIiwicGhvbmUiLCJtYXRjaCIsImVtYWlsIiwibG93ZXJjYXNlIiwiYmlydGhkYXkiLCJEYXRlIiwidmFsaWRhdGUiLCJ2YWxpZGF0b3IiLCJ2YWx1ZSIsIm1lc3NhZ2UiLCJyb2xlIiwiZW51bSIsInBvc2l0aW9uIiwiZGVmYXVsdCIsImluY2x1ZGVzIiwiYnJhbmNoSWQiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicGVybWlzc2lvbnMiLCJpc0FjdGl2ZSIsIkJvb2xlYW4iLCJsYXN0TG9naW4iLCJjcmVhdGVkQXQiLCJub3ciLCJ0aW1lc3RhbXBzIiwicHJlIiwibmV4dCIsImlzTW9kaWZpZWQiLCJzYWx0IiwiZ2VuU2FsdCIsImhhc2giLCJlcnIiLCJtZXRob2RzIiwiY29tcGFyZVBhc3N3b3JkIiwiY2FuZGlkYXRlUGFzc3dvcmQiLCJjb21wYXJlIiwidG9KU09OIiwiYWRtaW4iLCJ0b09iamVjdCIsIl9fdiIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL01vZGVsL2FkbWluTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tdXNlbGVzcy1lc2NhcGUgKi9cclxuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgeyBnZW5TYWx0LCBoYXNoLCBjb21wYXJlIH0gZnJvbSBcImJjcnlwdGpzXCI7XHJcblxyXG4vLyBLaeG7g20gdHJhIG7hur91IG1vZGVsIMSRw6MgdOG7k24gdOG6oWlcclxuY29uc3QgQWRtaW4gPSBtb25nb29zZS5tb2RlbHMuQWRtaW4gfHwgKCgpID0+IHtcclxuICBjb25zdCBBZG1pblNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAgICB7XHJcbiAgICAgIC8vIEjhu5cgdHLhu6MgY+G6oyBoYWkgdHLGsOG7nW5nIHVzZXJOYW1lIHbDoCB1c2VybmFtZVxyXG4gICAgICB1c2VyTmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogW3RydWUsIFwiVMOqbiDEkcSDbmcgbmjhuq1wIGzDoCBi4bqvdCBideG7mWNcIl0sXHJcbiAgICAgICAgdW5pcXVlOiB0cnVlLFxyXG4gICAgICAgIHRyaW06IHRydWUsXHJcbiAgICAgICAgbWlubGVuZ3RoOiBbNCwgXCJUw6puIMSRxINuZyBuaOG6rXAgcGjhuqNpIGPDsyDDrXQgbmjhuqV0IDQga8O9IHThu7FcIl0sXHJcbiAgICAgICAgbWF4bGVuZ3RoOiBbMjAsIFwiVMOqbiDEkcSDbmcgbmjhuq1wIGtow7RuZyBxdcOhIDIwIGvDvSB04buxXCJdLFxyXG4gICAgICB9LFxyXG4gICAgICAvLyB1c2VybmFtZSBz4bq9IMSRxrDhu6NjIMSR4bq3dCBi4bqxbmcgZ2nDoSB0cuG7iyBj4bunYSB1c2VyTmFtZVxyXG4gICAgICB1c2VybmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICB0cmltOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICBwYXNzd29yZDoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogW2Z1bmN0aW9uKCkge1xyXG4gICAgICAgICAgLy8gQ2jhu4kgecOqdSBj4bqndSBt4bqtdCBraOG6qXUga2hpIHThuqFvIG3hu5tpIGRvY3VtZW50XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5pc05ldztcclxuICAgICAgICB9LCBcIk3huq10IGto4bqpdSBsw6AgYuG6r3QgYnXhu5ljXCJdLFxyXG4gICAgICAgIG1pbmxlbmd0aDogWzYsIFwiTeG6rXQga2jhuql1IHBo4bqjaSBjw7Mgw610IG5o4bqldCA2IGvDvSB04buxXCJdLFxyXG4gICAgICB9LFxyXG4gICAgICBmdWxsTmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogW3RydWUsIFwiSOG7jSB0w6puIGzDoCBi4bqvdCBideG7mWNcIl0sXHJcbiAgICAgICAgdHJpbTogdHJ1ZSxcclxuICAgICAgfSxcclxuICAgICAgcGhvbmU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCBcIlPhu5EgxJFp4buHbiB0aG/huqFpIGzDoCBi4bqvdCBideG7mWNcIl0sXHJcbiAgICAgICAgbWF0Y2g6IFsvXlswLTldezEwLDExfSQvLCBcIlPhu5EgxJFp4buHbiB0aG/huqFpIGtow7RuZyBo4bujcCBs4buHXCJdLFxyXG4gICAgICB9LFxyXG4gICAgICBlbWFpbDoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogW3RydWUsIFwiRW1haWwgbMOgIGLhuq90IGJ14buZY1wiXSxcclxuICAgICAgICB1bmlxdWU6IHRydWUsXHJcbiAgICAgICAgbG93ZXJjYXNlOiB0cnVlLFxyXG4gICAgICAgIG1hdGNoOiBbXHJcbiAgICAgICAgICAvXlxcdysoW1xcLi1dP1xcdyspKkBcXHcrKFtcXC4tXT9cXHcrKSooXFwuXFx3ezIsM30pKyQvLFxyXG4gICAgICAgICAgXCJFbWFpbCBraMO0bmcgaOG7o3AgbOG7h1wiLFxyXG4gICAgICAgIF0sXHJcbiAgICAgIH0sXHJcbiAgICAgIGJpcnRoZGF5OiB7XHJcbiAgICAgICAgdHlwZTogRGF0ZSxcclxuICAgICAgICB2YWxpZGF0ZToge1xyXG4gICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuICF2YWx1ZSB8fCB2YWx1ZSA8IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbWVzc2FnZTogXCJOZ8OgeSBzaW5oIGtow7RuZyBo4bujcCBs4buHXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgcm9sZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBlbnVtOiBbXCJzdXBlcmFkbWluXCIsIFwibWFuYWdlclwiLCBcImFkbWluXCIsIFwidXNlclwiLCBcImVtcGxveWVlXCIsIFwic2hpcHBlclwiLCBcInN0YWZmXCJdLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICAvLyBI4buXIHRy4bujIHRow6ptIHRyxrDhu51uZyBwb3NpdGlvbiBjaG8gdMawxqFuZyB0aMOtY2hcclxuICAgICAgcG9zaXRpb246IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZW51bTogW1wiYWRtaW5cIiwgXCJtYW5hZ2VyXCIsIFwiZW1wbG95ZWVcIiwgXCJzdGFmZlwiLCBcInNoaXBwZXJcIl0sXHJcbiAgICAgICAgZGVmYXVsdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAvLyBM4bqleSBnacOhIHRy4buLIHThu6sgcm9sZSBu4bq/dSBwaMO5IGjhu6NwXHJcbiAgICAgICAgICByZXR1cm4gW1wiYWRtaW5cIiwgXCJtYW5hZ2VyXCIsIFwiZW1wbG95ZWVcIiwgXCJzdGFmZlwiLCBcInNoaXBwZXJcIl0uaW5jbHVkZXModGhpcy5yb2xlKSBcclxuICAgICAgICAgICAgPyB0aGlzLnJvbGUgXHJcbiAgICAgICAgICAgIDogXCJzdGFmZlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgYnJhbmNoSWQ6IHtcclxuICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgICAgcmVmOiBcIkJyYW5jaFwiLFxyXG4gICAgICB9LFxyXG4gICAgICBwZXJtaXNzaW9uczoge1xyXG4gICAgICAgIHR5cGU6IFtTdHJpbmddLFxyXG4gICAgICAgIGVudW06IFtcclxuICAgICAgICAgIFwiVGjDqm1cIixcclxuICAgICAgICAgIFwiWGVtXCIsXHJcbiAgICAgICAgICBcIlPhu61hXCIsXHJcbiAgICAgICAgICBcIljDs2FcIixcclxuICAgICAgICAgIFwiUXXhuqNuIGzDvSBuZ8aw4budaSBkw7luZ1wiLFxyXG4gICAgICAgICAgXCJRdeG6o24gbMO9IHPhuqNuIHBo4bqpbVwiLFxyXG4gICAgICAgICAgXCJRdeG6o24gbMO9IMSRxqFuIGjDoG5nXCIsXHJcbiAgICAgICAgICBcIlF14bqjbiBsw70gZGFuaCBt4bulY1wiLFxyXG4gICAgICAgICAgXCJRdeG6o24gbMO9IGPDoGkgxJHhurd0XCIsXHJcbiAgICAgICAgICBcInJldmlld3NcIixcclxuICAgICAgICAgIFwiY29udGFjdHNcIixcclxuICAgICAgICAgIFwibWVzc2FnZXNcIixcclxuICAgICAgICAgIFwib3JkZXJzXCIsXHJcbiAgICAgICAgICBcImVtcGxveWVlc1wiLFxyXG4gICAgICAgICAgXCJjdXN0b21lcnNcIixcclxuICAgICAgICAgIFwiZGFzaGJvYXJkXCIsXHJcbiAgICAgICAgICBcInByb2R1Y3RzXCIsXHJcbiAgICAgICAgICBcImNhdGVnb3JpZXNcIixcclxuICAgICAgICAgIFwiY291cG9uc1wiLFxyXG4gICAgICAgICAgXCJ0aXBzXCIsXHJcbiAgICAgICAgICBcInJlcG9ydHNcIixcclxuICAgICAgICAgIFwic2V0dGluZ3NcIixcclxuICAgICAgICAgIFwiZGVsaXZlcnlcIixcclxuICAgICAgICAgIFwiYnJhbmNoZXNcIixcclxuICAgICAgICBdLFxyXG4gICAgICAgIGRlZmF1bHQ6IFtcIlhlbVwiXSxcclxuICAgICAgfSxcclxuICAgICAgaXNBY3RpdmU6IHtcclxuICAgICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICAgIGRlZmF1bHQ6IHRydWUsXHJcbiAgICAgIH0sXHJcbiAgICAgIGxhc3RMb2dpbjogRGF0ZSxcclxuICAgICAgY3JlYXRlZEF0OiB7XHJcbiAgICAgICAgdHlwZTogRGF0ZSxcclxuICAgICAgICBkZWZhdWx0OiBEYXRlLm5vdyxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgLy8gxJDhuqNtIGLhuqNvIHVzZXJuYW1lIGx1w7RuIMSRxrDhu6NjIMSR4buTbmcgYuG7mSB24bubaSB1c2VyTmFtZVxyXG4gIEFkbWluU2NoZW1hLnByZShcInZhbGlkYXRlXCIsIGZ1bmN0aW9uKG5leHQpIHtcclxuICAgIGlmICh0aGlzLnVzZXJOYW1lICYmICF0aGlzLnVzZXJuYW1lKSB7XHJcbiAgICAgIHRoaXMudXNlcm5hbWUgPSB0aGlzLnVzZXJOYW1lO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMudXNlcm5hbWUgJiYgIXRoaXMudXNlck5hbWUpIHtcclxuICAgICAgdGhpcy51c2VyTmFtZSA9IHRoaXMudXNlcm5hbWU7XHJcbiAgICB9XHJcbiAgICBuZXh0KCk7XHJcbiAgfSk7XHJcblxyXG4gIEFkbWluU2NoZW1hLnByZShcInNhdmVcIiwgYXN5bmMgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgIC8vIMSQ4bqjbSBi4bqjbyB1c2VybmFtZSB2w6AgdXNlck5hbWUgbHXDtG4gxJHhu5NuZyBi4buZXHJcbiAgICBpZiAodGhpcy51c2VyTmFtZSkge1xyXG4gICAgICB0aGlzLnVzZXJuYW1lID0gdGhpcy51c2VyTmFtZTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy51c2VybmFtZSkge1xyXG4gICAgICB0aGlzLnVzZXJOYW1lID0gdGhpcy51c2VybmFtZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaOG7iSBoYXNoIG3huq10IGto4bqpdSBraGkgbeG6rXQga2jhuql1IHRoYXkgxJHhu5VpXHJcbiAgICBpZiAoIXRoaXMuaXNNb2RpZmllZChcInBhc3N3b3JkXCIpKSByZXR1cm4gbmV4dCgpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBnZW5TYWx0KDEwKTtcclxuICAgICAgdGhpcy5wYXNzd29yZCA9IGF3YWl0IGhhc2godGhpcy5wYXNzd29yZCwgc2FsdCk7XHJcbiAgICAgIG5leHQoKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBuZXh0KGVycik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIEFkbWluU2NoZW1hLm1ldGhvZHMuY29tcGFyZVBhc3N3b3JkID0gYXN5bmMgZnVuY3Rpb24gKGNhbmRpZGF0ZVBhc3N3b3JkKSB7XHJcbiAgICByZXR1cm4gYXdhaXQgY29tcGFyZShjYW5kaWRhdGVQYXNzd29yZCwgdGhpcy5wYXNzd29yZCk7XHJcbiAgfTtcclxuXHJcbiAgQWRtaW5TY2hlbWEubWV0aG9kcy50b0pTT04gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBhZG1pbiA9IHRoaXMudG9PYmplY3QoKTtcclxuICAgIGRlbGV0ZSBhZG1pbi5wYXNzd29yZDtcclxuICAgIGRlbGV0ZSBhZG1pbi5fX3Y7XHJcbiAgICByZXR1cm4gYWRtaW47XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIG1vbmdvb3NlLm1vZGVsKFwiQWRtaW5cIiwgQWRtaW5TY2hlbWEpO1xyXG59KSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQWRtaW47XHJcbiJdLCJtYXBwaW5ncyI6IjtBQUNBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUQsT0FBQSxhQUFrRCxDQUZsRDs7QUFJQTtBQUNBLE1BQU1FLEtBQUssR0FBR0MsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDRixLQUFLLElBQUksQ0FBQyxNQUFNO0VBQzVDLE1BQU1HLFdBQVcsR0FBRyxJQUFJRixpQkFBUSxDQUFDRyxNQUFNO0lBQ3JDO01BQ0U7TUFDQUMsUUFBUSxFQUFF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