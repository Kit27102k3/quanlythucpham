"use strict";Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _mongoose = _interopRequireDefault(require("mongoose"));function _interopRequireDefault(e) {return e && e.__esModule ? e : { default: e };}

const systemActivitySchema = new _mongoose.default.Schema({
  user: {
    type: String,
    required: false,
    default: 'system'
  },
  userId: {
    type: _mongoose.default.Schema.Types.ObjectId,
    ref: 'User',
    required: false
  },
  action: {
    type: String,
    required: true
  },
  type: {
    type: String,
    enum: ['login', 'logout', 'data_update', 'error', 'other'],
    required: true
  },
  status: {
    type: String,
    enum: ['success', 'failed', 'pending'],
    default: 'success'
  },
  details: {
    type: _mongoose.default.Schema.Types.Mixed,
    default: {}
  },
  ip: {
    type: String,
    required: false
  },
  timestamp: {
    type: Date,
    default: Date.now
  }
}, {
  timestamps: true
});

// Tạo index để tìm kiếm nhanh
systemActivitySchema.index({ type: 1 });
systemActivitySchema.index({ timestamp: -1 });
systemActivitySchema.index({ status: 1 });
systemActivitySchema.index({ user: 1 });

const SystemActivity = _mongoose.default.model('SystemActivity', systemActivitySchema);var _default = exports.default =

SystemActivity;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN5c3RlbUFjdGl2aXR5U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJ1c2VyIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidXNlcklkIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsImFjdGlvbiIsImVudW0iLCJzdGF0dXMiLCJkZXRhaWxzIiwiTWl4ZWQiLCJpcCIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJ0aW1lc3RhbXBzIiwiaW5kZXgiLCJTeXN0ZW1BY3Rpdml0eSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL01vZGVsL1N5c3RlbUFjdGl2aXR5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5jb25zdCBzeXN0ZW1BY3Rpdml0eVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIHVzZXI6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgIGRlZmF1bHQ6ICdzeXN0ZW0nXHJcbiAgfSxcclxuICB1c2VySWQ6IHtcclxuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlZjogJ1VzZXInLFxyXG4gICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgfSxcclxuICBhY3Rpb246IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICB0eXBlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBlbnVtOiBbJ2xvZ2luJywgJ2xvZ291dCcsICdkYXRhX3VwZGF0ZScsICdlcnJvcicsICdvdGhlciddLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9LFxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZW51bTogWydzdWNjZXNzJywgJ2ZhaWxlZCcsICdwZW5kaW5nJ10sXHJcbiAgICBkZWZhdWx0OiAnc3VjY2VzcydcclxuICB9LFxyXG4gIGRldGFpbHM6IHtcclxuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5NaXhlZCxcclxuICAgIGRlZmF1bHQ6IHt9XHJcbiAgfSxcclxuICBpcDoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IGZhbHNlXHJcbiAgfSxcclxuICB0aW1lc3RhbXA6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vd1xyXG4gIH1cclxufSwge1xyXG4gIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG4vLyBU4bqhbyBpbmRleCDEkeG7gyB0w6xtIGtp4bq/bSBuaGFuaFxyXG5zeXN0ZW1BY3Rpdml0eVNjaGVtYS5pbmRleCh7IHR5cGU6IDEgfSk7XHJcbnN5c3RlbUFjdGl2aXR5U2NoZW1hLmluZGV4KHsgdGltZXN0YW1wOiAtMSB9KTtcclxuc3lzdGVtQWN0aXZpdHlTY2hlbWEuaW5kZXgoeyBzdGF0dXM6IDEgfSk7XHJcbnN5c3RlbUFjdGl2aXR5U2NoZW1hLmluZGV4KHsgdXNlcjogMSB9KTtcclxuXHJcbmNvbnN0IFN5c3RlbUFjdGl2aXR5ID0gbW9uZ29vc2UubW9kZWwoJ1N5c3RlbUFjdGl2aXR5Jywgc3lzdGVtQWN0aXZpdHlTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgU3lzdGVtQWN0aXZpdHk7ICJdLCJtYXBwaW5ncyI6Im9HQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQSxjQUFnQyxTQUFBRCx1QkFBQUUsQ0FBQSxVQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTs7QUFFaEMsTUFBTUcsb0JBQW9CLEdBQUcsSUFBSUMsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDO0VBQy9DQyxJQUFJLEVBQUU7SUFDSkMsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRSxLQUFLO0lBQ2ZQLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFDRFEsTUFBTSxFQUFFO0lBQ05ILElBQUksRUFBRUgsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDTSxLQUFLLENBQUNDLFFBQVE7SUFDcENDLEdBQUcsRUFBRSxNQUFNO0lBQ1hKLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREssTUFBTSxFQUFFO0lBQ05QLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RGLElBQUksRUFBRTtJQUNKQSxJQUFJLEVBQUVDLE1BQU07SUFDWk8sSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQztJQUMxRE4sUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNETyxNQUFNLEVBQUU7SUFDTlQsSUFBSSxFQUFFQyxNQUFNO0lBQ1pPLElBQUksRUFBRSxDQUFDLFNBQVMsRUFBRSxRQUFRLEVBQUUsU0FBUyxDQUFDO0lBQ3RDYixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RlLE9BQU8sRUFBRTtJQUNQVixJQUFJLEVBQUVILGlCQUFRLENBQUNDLE1BQU0sQ0FBQ00sS0FBSyxDQUFDTyxLQUFLO0lBQ2pDaEIsT0FBTyxFQUFFLENBQUM7RUFDWixDQUFDO0VBQ0RpQixFQUFFLEVBQUU7SUFDRlosSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDRFcsU0FBUyxFQUFFO0lBQ1RiLElBQUksRUFBRWMsSUFBSTtJQUNWbkIsT0FBTyxFQUFFbUIsSUFBSSxDQUFDQztFQUNoQjtBQUNGLENBQUMsRUFBRTtFQUNEQyxVQUFVLEVBQUU7QUFDZCxDQUFDLENBQUM7O0FBRUY7QUFDQXBCLG9CQUFvQixDQUFDcUIsS0FBSyxDQUFDLEVBQUVqQixJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN2Q0osb0JBQW9CLENBQUNxQixLQUFLLENBQUMsRUFBRUosU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM3Q2pCLG9CQUFvQixDQUFDcUIsS0FBSyxDQUFDLEVBQUVSLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3pDYixvQkFBb0IsQ0FBQ3FCLEtBQUssQ0FBQyxFQUFFbEIsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7O0FBRXZDLE1BQU1tQixjQUFjLEdBQUdyQixpQkFBUSxDQUFDc0IsS0FBSyxDQUFDLGdCQUFnQixFQUFFdkIsb0JBQW9CLENBQUMsQ0FBQyxJQUFBd0IsUUFBQSxHQUFBQyxPQUFBLENBQUExQixPQUFBOztBQUUvRHVCLGNBQWMiLCJpZ25vcmVMaXN0IjpbXX0=