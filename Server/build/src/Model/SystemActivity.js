"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _mongoose = _interopRequireDefault(require("mongoose"));

const systemActivitySchema = new _mongoose.default.Schema({
  user: {
    type: String,
    required: false,
    default: 'system'
  },
  userId: {
    type: _mongoose.default.Schema.Types.ObjectId,
    ref: 'User',
    required: false
  },
  action: {
    type: String,
    required: true
  },
  type: {
    type: String,
    enum: ['login', 'logout', 'data_update', 'error', 'other'],
    required: true
  },
  status: {
    type: String,
    enum: ['success', 'failed', 'pending'],
    default: 'success'
  },
  details: {
    type: _mongoose.default.Schema.Types.Mixed,
    default: {}
  },
  ip: {
    type: String,
    required: false
  },
  timestamp: {
    type: Date,
    default: Date.now
  }
}, {
  timestamps: true
});

// Tạo index để tìm kiếm nhanh
systemActivitySchema.index({ type: 1 });
systemActivitySchema.index({ timestamp: -1 });
systemActivitySchema.index({ status: 1 });
systemActivitySchema.index({ user: 1 });

const SystemActivity = _mongoose.default.model('SystemActivity', systemActivitySchema);var _default = exports.default =

SystemActivity;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsInN5c3RlbUFjdGl2aXR5U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJ1c2VyIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZGVmYXVsdCIsInVzZXJJZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJhY3Rpb24iLCJlbnVtIiwic3RhdHVzIiwiZGV0YWlscyIsIk1peGVkIiwiaXAiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwidGltZXN0YW1wcyIsImluZGV4IiwiU3lzdGVtQWN0aXZpdHkiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9Nb2RlbC9TeXN0ZW1BY3Rpdml0eS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3Qgc3lzdGVtQWN0aXZpdHlTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICB1c2VyOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICBkZWZhdWx0OiAnc3lzdGVtJ1xyXG4gIH0sXHJcbiAgdXNlcklkOiB7XHJcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZWY6ICdVc2VyJyxcclxuICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gIH0sXHJcbiAgYWN0aW9uOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZVxyXG4gIH0sXHJcbiAgdHlwZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZW51bTogWydsb2dpbicsICdsb2dvdXQnLCAnZGF0YV91cGRhdGUnLCAnZXJyb3InLCAnb3RoZXInXSxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICBzdGF0dXM6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGVudW06IFsnc3VjY2VzcycsICdmYWlsZWQnLCAncGVuZGluZyddLFxyXG4gICAgZGVmYXVsdDogJ3N1Y2Nlc3MnXHJcbiAgfSxcclxuICBkZXRhaWxzOiB7XHJcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuTWl4ZWQsXHJcbiAgICBkZWZhdWx0OiB7fVxyXG4gIH0sXHJcbiAgaXA6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiBmYWxzZVxyXG4gIH0sXHJcbiAgdGltZXN0YW1wOiB7XHJcbiAgICB0eXBlOiBEYXRlLFxyXG4gICAgZGVmYXVsdDogRGF0ZS5ub3dcclxuICB9XHJcbn0sIHtcclxuICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pO1xyXG5cclxuLy8gVOG6oW8gaW5kZXggxJHhu4MgdMOsbSBraeG6v20gbmhhbmhcclxuc3lzdGVtQWN0aXZpdHlTY2hlbWEuaW5kZXgoeyB0eXBlOiAxIH0pO1xyXG5zeXN0ZW1BY3Rpdml0eVNjaGVtYS5pbmRleCh7IHRpbWVzdGFtcDogLTEgfSk7XHJcbnN5c3RlbUFjdGl2aXR5U2NoZW1hLmluZGV4KHsgc3RhdHVzOiAxIH0pO1xyXG5zeXN0ZW1BY3Rpdml0eVNjaGVtYS5pbmRleCh7IHVzZXI6IDEgfSk7XHJcblxyXG5jb25zdCBTeXN0ZW1BY3Rpdml0eSA9IG1vbmdvb3NlLm1vZGVsKCdTeXN0ZW1BY3Rpdml0eScsIHN5c3RlbUFjdGl2aXR5U2NoZW1hKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN5c3RlbUFjdGl2aXR5OyAiXSwibWFwcGluZ3MiOiJ5TEFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7O0FBRUEsTUFBTUMsb0JBQW9CLEdBQUcsSUFBSUMsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDO0VBQy9DQyxJQUFJLEVBQUU7SUFDSkMsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRSxLQUFLO0lBQ2ZDLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFDREMsTUFBTSxFQUFFO0lBQ05KLElBQUksRUFBRUgsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDTyxLQUFLLENBQUNDLFFBQVE7SUFDcENDLEdBQUcsRUFBRSxNQUFNO0lBQ1hMLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDRE0sTUFBTSxFQUFFO0lBQ05SLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RGLElBQUksRUFBRTtJQUNKQSxJQUFJLEVBQUVDLE1BQU07SUFDWlEsSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQztJQUMxRFAsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNEUSxNQUFNLEVBQUU7SUFDTlYsSUFBSSxFQUFFQyxNQUFNO0lBQ1pRLElBQUksRUFBRSxDQUFDLFNBQVMsRUFBRSxRQUFRLEVBQUUsU0FBUyxDQUFDO0lBQ3RDTixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RRLE9BQU8sRUFBRTtJQUNQWCxJQUFJLEVBQUVILGlCQUFRLENBQUNDLE1BQU0sQ0FBQ08sS0FBSyxDQUFDTyxLQUFLO0lBQ2pDVCxPQUFPLEVBQUUsQ0FBQztFQUNaLENBQUM7RUFDRFUsRUFBRSxFQUFFO0lBQ0ZiLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RZLFNBQVMsRUFBRTtJQUNUZCxJQUFJLEVBQUVlLElBQUk7SUFDVlosT0FBTyxFQUFFWSxJQUFJLENBQUNDO0VBQ2hCO0FBQ0YsQ0FBQyxFQUFFO0VBQ0RDLFVBQVUsRUFBRTtBQUNkLENBQUMsQ0FBQzs7QUFFRjtBQUNBckIsb0JBQW9CLENBQUNzQixLQUFLLENBQUMsRUFBRWxCLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3ZDSixvQkFBb0IsQ0FBQ3NCLEtBQUssQ0FBQyxFQUFFSixTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzdDbEIsb0JBQW9CLENBQUNzQixLQUFLLENBQUMsRUFBRVIsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDekNkLG9CQUFvQixDQUFDc0IsS0FBSyxDQUFDLEVBQUVuQixJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7QUFFdkMsTUFBTW9CLGNBQWMsR0FBR3RCLGlCQUFRLENBQUN1QixLQUFLLENBQUMsZ0JBQWdCLEVBQUV4QixvQkFBb0IsQ0FBQyxDQUFDLElBQUF5QixRQUFBLEdBQUFDLE9BQUEsQ0FBQW5CLE9BQUE7O0FBRS9EZ0IsY0FBYyIsImlnbm9yZUxpc3QiOltdfQ==