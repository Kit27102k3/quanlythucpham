"use strict";var _mongoose = _interopRequireDefault(require("mongoose"));
var _dotenv = _interopRequireDefault(require("dotenv"));
var _Products = _interopRequireDefault(require("../Model/Products.js"));
var _Categories = _interopRequireDefault(require("../Model/Categories.js"));function _interopRequireDefault(e) {return e && e.__esModule ? e : { default: e };}

_dotenv.default.config();

const initCategories = async () => {
  try {
    // Kết nối MongoDB
    await _mongoose.default.connect(process.env.MONGOOSE_URI);
    console.log("Connected to MongoDB");

    // Tạo các category
    const categories = [
    {
      codeCategory: "TRAI",
      nameCategory: "Trái"
    },
    {
      codeCategory: "RAU",
      nameCategory: "Rau"
    },
    {
      codeCategory: "NUOC",
      nameCategory: "Nước giải khát"
    },
    {
      codeCategory: "GIA_VI",
      nameCategory: "Gia vị"
    }];


    // Thêm hoặc cập nhật các category
    for (const cat of categories) {
      await _Categories.default.findOneAndUpdate(
        { codeCategory: cat.codeCategory },
        cat,
        { upsert: true }
      );
    }

    // Lấy ID của các category
    const traiCategory = await _Categories.default.findOne({ codeCategory: "TRAI" });
    const rauCategory = await _Categories.default.findOne({ codeCategory: "RAU" });
    const nuocCategory = await _Categories.default.findOne({ codeCategory: "NUOC" });
    const giaViCategory = await _Categories.default.findOne({ codeCategory: "GIA_VI" });

    // Danh sách sản phẩm theo category
    const productCategories = {
      [traiCategory._id]: ["Trái sơ ri", "Táo xanh Mỹ cao cấp", "Dâu tây Đà Lạt"],
      [rauCategory._id]: ["Súp lơ xanh"],
      [nuocCategory._id]: [
      "Nước táo lên men vị mật ong Strongbow lốc 4 chai x 330ml",
      "Nước giải khát có gas Pepsi lốc 6 chai x 390ml"],

      [giaViCategory._id]: ["Muối tôm Fadely lọ 100g"]
    };

    // Cập nhật category cho từng sản phẩm
    for (const [categoryId, productNames] of Object.entries(productCategories)) {
      await _Products.default.updateMany(
        { productName: { $in: productNames } },
        { $set: { productCategory: categoryId } }
      );
    }

    // Kiểm tra kết quả
    const products = await _Products.default.find();
    console.log("Updated products:", products.map((p) => ({
      name: p.productName,
      category: p.productCategory
    })));

    // Đóng kết nối
    await _mongoose.default.disconnect();
    console.log("Disconnected from MongoDB");
  } catch (error) {
    console.error("Error:", error);
  }
};

initCategories();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9kb3RlbnYiLCJfUHJvZHVjdHMiLCJfQ2F0ZWdvcmllcyIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImRvdGVudiIsImNvbmZpZyIsImluaXRDYXRlZ29yaWVzIiwibW9uZ29vc2UiLCJjb25uZWN0IiwicHJvY2VzcyIsImVudiIsIk1PTkdPT1NFX1VSSSIsImNvbnNvbGUiLCJsb2ciLCJjYXRlZ29yaWVzIiwiY29kZUNhdGVnb3J5IiwibmFtZUNhdGVnb3J5IiwiY2F0IiwiQ2F0ZWdvcnkiLCJmaW5kT25lQW5kVXBkYXRlIiwidXBzZXJ0IiwidHJhaUNhdGVnb3J5IiwiZmluZE9uZSIsInJhdUNhdGVnb3J5IiwibnVvY0NhdGVnb3J5IiwiZ2lhVmlDYXRlZ29yeSIsInByb2R1Y3RDYXRlZ29yaWVzIiwiX2lkIiwiY2F0ZWdvcnlJZCIsInByb2R1Y3ROYW1lcyIsIk9iamVjdCIsImVudHJpZXMiLCJQcm9kdWN0IiwidXBkYXRlTWFueSIsInByb2R1Y3ROYW1lIiwiJGluIiwiJHNldCIsInByb2R1Y3RDYXRlZ29yeSIsInByb2R1Y3RzIiwiZmluZCIsIm1hcCIsInAiLCJuYW1lIiwiY2F0ZWdvcnkiLCJkaXNjb25uZWN0IiwiZXJyb3IiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2NyaXB0cy9pbml0Q2F0ZWdvcmllcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tIFwiLi4vTW9kZWwvUHJvZHVjdHMuanNcIjtcclxuaW1wb3J0IENhdGVnb3J5IGZyb20gXCIuLi9Nb2RlbC9DYXRlZ29yaWVzLmpzXCI7XHJcblxyXG5kb3RlbnYuY29uZmlnKCk7XHJcblxyXG5jb25zdCBpbml0Q2F0ZWdvcmllcyA9IGFzeW5jICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gS+G6v3QgbuG7kWkgTW9uZ29EQlxyXG4gICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT09TRV9VUkkpO1xyXG4gICAgY29uc29sZS5sb2coXCJDb25uZWN0ZWQgdG8gTW9uZ29EQlwiKTtcclxuXHJcbiAgICAvLyBU4bqhbyBjw6FjIGNhdGVnb3J5XHJcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gW1xyXG4gICAgICB7XHJcbiAgICAgICAgY29kZUNhdGVnb3J5OiBcIlRSQUlcIixcclxuICAgICAgICBuYW1lQ2F0ZWdvcnk6IFwiVHLDoWlcIlxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgY29kZUNhdGVnb3J5OiBcIlJBVVwiLFxyXG4gICAgICAgIG5hbWVDYXRlZ29yeTogXCJSYXVcIlxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgY29kZUNhdGVnb3J5OiBcIk5VT0NcIixcclxuICAgICAgICBuYW1lQ2F0ZWdvcnk6IFwiTsaw4bubYyBnaeG6o2kga2jDoXRcIlxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgY29kZUNhdGVnb3J5OiBcIkdJQV9WSVwiLFxyXG4gICAgICAgIG5hbWVDYXRlZ29yeTogXCJHaWEgduG7i1wiXHJcbiAgICAgIH1cclxuICAgIF07XHJcblxyXG4gICAgLy8gVGjDqm0gaG/hurdjIGPhuq1wIG5o4bqtdCBjw6FjIGNhdGVnb3J5XHJcbiAgICBmb3IgKGNvbnN0IGNhdCBvZiBjYXRlZ29yaWVzKSB7XHJcbiAgICAgIGF3YWl0IENhdGVnb3J5LmZpbmRPbmVBbmRVcGRhdGUoXHJcbiAgICAgICAgeyBjb2RlQ2F0ZWdvcnk6IGNhdC5jb2RlQ2F0ZWdvcnkgfSxcclxuICAgICAgICBjYXQsXHJcbiAgICAgICAgeyB1cHNlcnQ6IHRydWUgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEzhuqV5IElEIGPhu6dhIGPDoWMgY2F0ZWdvcnlcclxuICAgIGNvbnN0IHRyYWlDYXRlZ29yeSA9IGF3YWl0IENhdGVnb3J5LmZpbmRPbmUoeyBjb2RlQ2F0ZWdvcnk6IFwiVFJBSVwiIH0pO1xyXG4gICAgY29uc3QgcmF1Q2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeS5maW5kT25lKHsgY29kZUNhdGVnb3J5OiBcIlJBVVwiIH0pO1xyXG4gICAgY29uc3QgbnVvY0NhdGVnb3J5ID0gYXdhaXQgQ2F0ZWdvcnkuZmluZE9uZSh7IGNvZGVDYXRlZ29yeTogXCJOVU9DXCIgfSk7XHJcbiAgICBjb25zdCBnaWFWaUNhdGVnb3J5ID0gYXdhaXQgQ2F0ZWdvcnkuZmluZE9uZSh7IGNvZGVDYXRlZ29yeTogXCJHSUFfVklcIiB9KTtcclxuXHJcbiAgICAvLyBEYW5oIHPDoWNoIHPhuqNuIHBo4bqpbSB0aGVvIGNhdGVnb3J5XHJcbiAgICBjb25zdCBwcm9kdWN0Q2F0ZWdvcmllcyA9IHtcclxuICAgICAgW3RyYWlDYXRlZ29yeS5faWRdOiBbXCJUcsOhaSBzxqEgcmlcIiwgXCJUw6FvIHhhbmggTeG7uSBjYW8gY+G6pXBcIiwgXCJEw6J1IHTDonkgxJDDoCBM4bqhdFwiXSxcclxuICAgICAgW3JhdUNhdGVnb3J5Ll9pZF06IFtcIlPDunAgbMahIHhhbmhcIl0sXHJcbiAgICAgIFtudW9jQ2F0ZWdvcnkuX2lkXTogW1xyXG4gICAgICAgIFwiTsaw4bubYyB0w6FvIGzDqm4gbWVuIHbhu4sgbeG6rXQgb25nIFN0cm9uZ2JvdyBs4buRYyA0IGNoYWkgeCAzMzBtbFwiLFxyXG4gICAgICAgIFwiTsaw4bubYyBnaeG6o2kga2jDoXQgY8OzIGdhcyBQZXBzaSBs4buRYyA2IGNoYWkgeCAzOTBtbFwiXHJcbiAgICAgIF0sXHJcbiAgICAgIFtnaWFWaUNhdGVnb3J5Ll9pZF06IFtcIk114buRaSB0w7RtIEZhZGVseSBs4buNIDEwMGdcIl1cclxuICAgIH07XHJcblxyXG4gICAgLy8gQ+G6rXAgbmjhuq10IGNhdGVnb3J5IGNobyB04burbmcgc+G6o24gcGjhuqltXHJcbiAgICBmb3IgKGNvbnN0IFtjYXRlZ29yeUlkLCBwcm9kdWN0TmFtZXNdIG9mIE9iamVjdC5lbnRyaWVzKHByb2R1Y3RDYXRlZ29yaWVzKSkge1xyXG4gICAgICBhd2FpdCBQcm9kdWN0LnVwZGF0ZU1hbnkoXHJcbiAgICAgICAgeyBwcm9kdWN0TmFtZTogeyAkaW46IHByb2R1Y3ROYW1lcyB9IH0sXHJcbiAgICAgICAgeyAkc2V0OiB7IHByb2R1Y3RDYXRlZ29yeTogY2F0ZWdvcnlJZCB9IH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBLaeG7g20gdHJhIGvhur90IHF14bqjXHJcbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuZmluZCgpO1xyXG4gICAgY29uc29sZS5sb2coXCJVcGRhdGVkIHByb2R1Y3RzOlwiLCBwcm9kdWN0cy5tYXAocCA9PiAoe1xyXG4gICAgICBuYW1lOiBwLnByb2R1Y3ROYW1lLFxyXG4gICAgICBjYXRlZ29yeTogcC5wcm9kdWN0Q2F0ZWdvcnlcclxuICAgIH0pKSk7XHJcblxyXG4gICAgLy8gxJDDs25nIGvhur90IG7hu5FpXHJcbiAgICBhd2FpdCBtb25nb29zZS5kaXNjb25uZWN0KCk7XHJcbiAgICBjb25zb2xlLmxvZyhcIkRpc2Nvbm5lY3RlZCBmcm9tIE1vbmdvREJcIik7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbmluaXRDYXRlZ29yaWVzKCk7ICJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsU0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsV0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBLDRCQUE4QyxTQUFBRCx1QkFBQUssQ0FBQSxVQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTs7QUFFOUNHLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7O0FBRWYsTUFBTUMsY0FBYyxHQUFHLE1BQUFBLENBQUEsS0FBWTtFQUNqQyxJQUFJO0lBQ0Y7SUFDQSxNQUFNQyxpQkFBUSxDQUFDQyxPQUFPLENBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxZQUFZLENBQUM7SUFDaERDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixDQUFDOztJQUVuQztJQUNBLE1BQU1DLFVBQVUsR0FBRztJQUNqQjtNQUNFQyxZQUFZLEVBQUUsTUFBTTtNQUNwQkMsWUFBWSxFQUFFO0lBQ2hCLENBQUM7SUFDRDtNQUNFRCxZQUFZLEVBQUUsS0FBSztNQUNuQkMsWUFBWSxFQUFFO0lBQ2hCLENBQUM7SUFDRDtNQUNFRCxZQUFZLEVBQUUsTUFBTTtNQUNwQkMsWUFBWSxFQUFFO0lBQ2hCLENBQUM7SUFDRDtNQUNFRCxZQUFZLEVBQUUsUUFBUTtNQUN0QkMsWUFBWSxFQUFFO0lBQ2hCLENBQUMsQ0FDRjs7O0lBRUQ7SUFDQSxLQUFLLE1BQU1DLEdBQUcsSUFBSUgsVUFBVSxFQUFFO01BQzVCLE1BQU1JLG1CQUFRLENBQUNDLGdCQUFnQjtRQUM3QixFQUFFSixZQUFZLEVBQUVFLEdBQUcsQ0FBQ0YsWUFBWSxDQUFDLENBQUM7UUFDbENFLEdBQUc7UUFDSCxFQUFFRyxNQUFNLEVBQUUsSUFBSSxDQUFDO01BQ2pCLENBQUM7SUFDSDs7SUFFQTtJQUNBLE1BQU1DLFlBQVksR0FBRyxNQUFNSCxtQkFBUSxDQUFDSSxPQUFPLENBQUMsRUFBRVAsWUFBWSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDckUsTUFBTVEsV0FBVyxHQUFHLE1BQU1MLG1CQUFRLENBQUNJLE9BQU8sQ0FBQyxFQUFFUCxZQUFZLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUNuRSxNQUFNUyxZQUFZLEdBQUcsTUFBTU4sbUJBQVEsQ0FBQ0ksT0FBTyxDQUFDLEVBQUVQLFlBQVksRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ3JFLE1BQU1VLGFBQWEsR0FBRyxNQUFNUCxtQkFBUSxDQUFDSSxPQUFPLENBQUMsRUFBRVAsWUFBWSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7O0lBRXhFO0lBQ0EsTUFBTVcsaUJBQWlCLEdBQUc7TUFDeEIsQ0FBQ0wsWUFBWSxDQUFDTSxHQUFHLEdBQUcsQ0FBQyxZQUFZLEVBQUUscUJBQXFCLEVBQUUsZ0JBQWdCLENBQUM7TUFDM0UsQ0FBQ0osV0FBVyxDQUFDSSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7TUFDbEMsQ0FBQ0gsWUFBWSxDQUFDRyxHQUFHLEdBQUc7TUFDbEIsMERBQTBEO01BQzFELGdEQUFnRCxDQUNqRDs7TUFDRCxDQUFDRixhQUFhLENBQUNFLEdBQUcsR0FBRyxDQUFDLHlCQUF5QjtJQUNqRCxDQUFDOztJQUVEO0lBQ0EsS0FBSyxNQUFNLENBQUNDLFVBQVUsRUFBRUMsWUFBWSxDQUFDLElBQUlDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDTCxpQkFBaUIsQ0FBQyxFQUFFO01BQzFFLE1BQU1NLGlCQUFPLENBQUNDLFVBQVU7UUFDdEIsRUFBRUMsV0FBVyxFQUFFLEVBQUVDLEdBQUcsRUFBRU4sWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLEVBQUVPLElBQUksRUFBRSxFQUFFQyxlQUFlLEVBQUVULFVBQVUsQ0FBQyxDQUFDLENBQUM7TUFDMUMsQ0FBQztJQUNIOztJQUVBO0lBQ0EsTUFBTVUsUUFBUSxHQUFHLE1BQU1OLGlCQUFPLENBQUNPLElBQUksQ0FBQyxDQUFDO0lBQ3JDM0IsT0FBTyxDQUFDQyxHQUFHLENBQUMsbUJBQW1CLEVBQUV5QixRQUFRLENBQUNFLEdBQUcsQ0FBQyxDQUFBQyxDQUFDLE1BQUs7TUFDbERDLElBQUksRUFBRUQsQ0FBQyxDQUFDUCxXQUFXO01BQ25CUyxRQUFRLEVBQUVGLENBQUMsQ0FBQ0o7SUFDZCxDQUFDLENBQUMsQ0FBQyxDQUFDOztJQUVKO0lBQ0EsTUFBTTlCLGlCQUFRLENBQUNxQyxVQUFVLENBQUMsQ0FBQztJQUMzQmhDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDJCQUEyQixDQUFDO0VBQzFDLENBQUMsQ0FBQyxPQUFPZ0MsS0FBSyxFQUFFO0lBQ2RqQyxPQUFPLENBQUNpQyxLQUFLLENBQUMsUUFBUSxFQUFFQSxLQUFLLENBQUM7RUFDaEM7QUFDRixDQUFDOztBQUVEdkMsY0FBYyxDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=